+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one(t.support.transition.end,function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e=function(n,r){this.options=t.extend({},e.DEFAULTS,r),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),a=this.options.offset,o=a.top,s=a.bottom;"top"==this.affixed&&(i.top+=r),"object"!=typeof a&&(s=o=a),"function"==typeof o&&(o=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var l=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=n-s?"bottom":null!=o&&o>=r?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=t.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(c).trigger(t.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:n-s-this.$element.height()}))}}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("bs.affix"),a="object"==typeof n&&n;i||r.data("bs.affix",i=new e(this,a)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(jQuery),+function(t){"use strict";var e=function(n,r){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var o=t.camelCase(["scroll",i].join("-"));this.$element.one(t.support.transition.end,t.proxy(a,this)).emulateTransitionEnd(350)[i](this.$element[0][o])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("bs.collapse"),a=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);!i&&a.toggle&&"show"==n&&(n=!n),i||r.data("bs.collapse",i=new e(this,a)),"string"==typeof n&&i[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),a=t(i),o=a.data("bs.collapse"),s=o?"toggle":r.data(),l=r.attr("data-parent"),c=l&&t(l);o&&o.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(r).addClass("collapsed"),r[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),a.collapse(s)})}(jQuery),angular.module("tbk.githubVersion",[]).directive("tbkGithubVersion",function(){var t={scope:{repo:"@tbkGithubVersion"},template:"<span>{{version}}</span>",controller:["$scope","$http",function(t,e){t.version="?",e.get("https://api.github.com/repos/"+t.repo+"/git/refs/tags",{cache:!0}).success(function(e){if(angular.isArray(e)&&e.length>0){var n=e[e.length-1],r=n.ref.search(/(\d(\.)?){3}$/);if(r>-1){var i=n.ref.substring(r,n.ref.length);t.version=i}}})}],link:function(t,e){e.addClass("tbk-github-version")}};return t}),function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],2:[function(t,e,n){!function(t,n){"undefined"!=typeof e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[t]=n()}("domready",function(t){function e(t){for(d=1;t=r.shift();)t()}var n,r=[],i=!1,a=document,o=a.documentElement,s=o.doScroll,l="DOMContentLoaded",c="addEventListener",u="onreadystatechange",p="readyState",h=s?/^loaded|^c/:/^loaded|c/,d=h.test(a[p]);return a[c]&&a[c](l,n=function(){a.removeEventListener(l,n,i),e()},i),s&&a.attachEvent(u,n=function(){/^c/.test(a[p])&&(a.detachEvent(u,n),e())}),t=s?function(e){self!=top?d?e():r.push(e):function(){try{o.doScroll("left")}catch(n){return setTimeout(function(){t(e)},50)}e()}()}:function(t){d?t():r.push(t)}})},{}],3:[function(t,e,n){(function(t){(function(){function r(t,e){function n(t){if(n[t]!==v)return n[t];var r;if("bug-string-char-index"==t)r="a"!="a"[0];else if("json"==t)r=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l=e.stringify,u="function"==typeof l&&b;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===l(0)&&"0"===l(new i)&&'""'==l(new o)&&l(m)===v&&l(v)===v&&l()===v&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([v])&&"null"==l(null)&&"[null,null,null]"==l([v,m,null])&&l({a:[a,!0,!1,null,"\x00\b\n\f\r	"]})==s&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(p){u=!1}}r=u}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){a=h(s);var d=5==a.a.length&&1===a.a[0];if(d){try{d=!h('"	"')}catch(p){}if(d)try{d=1!==h("01")}catch(p){}if(d)try{d=1!==h("1.")}catch(p){}}}}catch(p){d=!1}r=d}}return n[t]=!!r}t||(t=s.Object()),e||(e=s.Object());var i=t.Number||s.Number,o=t.String||s.String,l=t.Object||s.Object,c=t.Date||s.Date,u=t.SyntaxError||s.SyntaxError,p=t.TypeError||s.TypeError,h=t.Math||s.Math,d=t.JSON||s.JSON;"object"==typeof d&&d&&(e.stringify=d.stringify,e.parse=d.parse);var f,g,v,y=l.prototype,m=y.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",k="[object Date]",C="[object Number]",T="[object String]",_="[object Array]",A="[object Boolean]",O=n("bug-string-char-index");if(!b)var j=h.floor,q=[0,31,59,90,120,151,181,212,243,273,304,334],S=function(t,e){return q[e]+365*(t-1970)+j((t-1969+(e=+(e>1)))/4)-j((t-1901+e)/100)+j((t-1601+e)/400)};if((f=y.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=m?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),g=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)f.call(r,i)&&o++;return n=r=null,o?g=2==o?function(t,e){var n,r={},i=m.call(t)==x;for(n in t)i&&"prototype"==n||f.call(r,n)||!(r[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,r,i=m.call(t)==x;for(n in t)i&&"prototype"==n||!f.call(t,n)||(r="constructor"===n)||e(n);(r||f.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var n,i,o=m.call(t)==x,s=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(n in t)o&&"prototype"==n||!s.call(t,n)||e(n);for(i=r.length;n=r[--i];s.call(t,n)&&e(n));}),g(t,e)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},K="000000",z=function(t,e){return(K+(e||0)).slice(-t)},M="\\u00",R=function(t){for(var e='"',n=0,r=t.length,i=!O||r>10,a=i&&(O?t.split(""):t);r>n;n++){var o=t.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=E[o];break;default:if(32>o){e+=M+z(2,o.toString(16));break}e+=i?a[n]:t.charAt(n)}}return e+'"'},P=function(t,e,n,r,i,a,o){var s,l,c,u,h,d,y,b,w,x,O,q,E,K,M,D;try{s=e[t]}catch(N){}if("object"==typeof s&&s)if(l=m.call(s),l!=k||f.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=C&&l!=T&&l!=_||f.call(s,"toJSON"))&&(s=s.toJSON(t));else if(s>-1/0&&1/0>s){if(S){for(h=j(s/864e5),c=j(h/365.2425)+1970-1;S(c+1,0)<=h;c++);for(u=j((h-S(c,0))/30.42);S(c,u+1)<=h;u++);h=1+h-S(c,u),d=(s%864e5+864e5)%864e5,y=j(d/36e5)%24,b=j(d/6e4)%60,w=j(d/1e3)%60,x=d%1e3}else c=s.getUTCFullYear(),u=s.getUTCMonth(),h=s.getUTCDate(),y=s.getUTCHours(),b=s.getUTCMinutes(),w=s.getUTCSeconds(),x=s.getUTCMilliseconds();s=(0>=c||c>=1e4?(0>c?"-":"+")+z(6,0>c?-c:c):z(4,c))+"-"+z(2,u+1)+"-"+z(2,h)+"T"+z(2,y)+":"+z(2,b)+":"+z(2,w)+"."+z(3,x)+"Z"}else s=null;if(n&&(s=n.call(e,t,s)),null===s)return"null";if(l=m.call(s),l==A)return""+s;if(l==C)return s>-1/0&&1/0>s?""+s:"null";if(l==T)return R(""+s);if("object"==typeof s){for(K=o.length;K--;)if(o[K]===s)throw p();if(o.push(s),O=[],M=a,a+=i,l==_){for(E=0,K=s.length;K>E;E++)q=P(E,s,n,r,i,a,o),O.push(q===v?"null":q);D=O.length?i?"[\n"+a+O.join(",\n"+a)+"\n"+M+"]":"["+O.join(",")+"]":"[]"}else g(r||s,function(t){var e=P(t,s,n,r,i,a,o);e!==v&&O.push(R(t)+":"+(i?" ":"")+e)}),D=O.length?i?"{\n"+a+O.join(",\n"+a)+"\n"+M+"}":"{"+O.join(",")+"}":"{}";return o.pop(),D}};e.stringify=function(t,e,n){var r,i,o,s;if(a[typeof e]&&e)if((s=m.call(e))==x)i=e;else if(s==_){o={};for(var l,c=0,u=e.length;u>c;l=e[c++],s=m.call(l),(s==T||s==C)&&(o[l]=1));}if(n)if((s=m.call(n))==C){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==T&&(r=n.length<=10?n:n.slice(0,10));return P("",(l={},l[""]=t,l),i,o,r,"",[])}}if(!n("json-parse")){var D,N,$=o.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw D=N=null,u()},H=function(){for(var t,e,n,r,i,a=N,o=a.length;o>D;)switch(i=a.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=O?a.charAt(D):a[D],D++,t;case 34:for(t="@",D++;o>D;)if(i=a.charCodeAt(D),32>i)I();else if(92==i)switch(i=a.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[i],D++;break;case 117:for(e=++D,n=D+4;n>D;D++)i=a.charCodeAt(D),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||I();t+=$("0x"+a.slice(e,D));break;default:I()}else{if(34==i)break;for(i=a.charCodeAt(D),e=D;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++D);t+=a.slice(e,D)}if(34==a.charCodeAt(D))return D++,t;I();default:if(e=D,45==i&&(r=!0,i=a.charCodeAt(++D)),i>=48&&57>=i){for(48==i&&(i=a.charCodeAt(D+1),i>=48&&57>=i)&&I(),r=!1;o>D&&(i=a.charCodeAt(D),i>=48&&57>=i);D++);if(46==a.charCodeAt(D)){for(n=++D;o>n&&(i=a.charCodeAt(n),i>=48&&57>=i);n++);n==D&&I(),D=n}if(i=a.charCodeAt(D),101==i||69==i){for(i=a.charCodeAt(++D),(43==i||45==i)&&D++,n=D;o>n&&(i=a.charCodeAt(n),i>=48&&57>=i);n++);n==D&&I(),D=n}return+a.slice(e,D)}if(r&&I(),"true"==a.slice(D,D+4))return D+=4,!0;if("false"==a.slice(D,D+5))return D+=5,!1;if("null"==a.slice(D,D+4))return D+=4,null;I()}return"$"},B=function(t){var e,n;if("$"==t&&I(),"string"==typeof t){if("@"==(O?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=H(),"]"!=t;n||(n=!0))n&&(","==t?(t=H(),"]"==t&&I()):I()),","==t&&I(),e.push(B(t));return e}if("{"==t){for(e={};t=H(),"}"!=t;n||(n=!0))n&&(","==t?(t=H(),"}"==t&&I()):I()),(","==t||"string"!=typeof t||"@"!=(O?t.charAt(0):t[0])||":"!=H())&&I(),e[t.slice(1)]=B(H());return e}I()}return t},U=function(t,e,n){var r=F(t,e,n);r===v?delete t[e]:t[e]=r},F=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(m.call(i)==_)for(r=i.length;r--;)U(i,r,n);else g(i,function(t){U(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return D=0,N=""+t,n=B(H()),"$"!=H()&&I(),D=N=null,e&&m.call(e)==x?F((r={},r[""]=n,r),"",e):n}}}return e.runInContext=r,e}var i="function"==typeof define&&define.amd,a={"function":!0,object:!0},o=a[typeof n]&&n&&!n.nodeType&&n,s=a[typeof window]&&window||this,l=o&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof t&&t;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(s=l),o&&!i)r(s,o);else{var c=s.JSON,u=s.JSON3,p=!1,h=r(s,s.JSON3={noConflict:function(){return p||(p=!0,s.JSON=c,s.JSON3=u,c=u=null),h}});s.JSON={parse:h.parse,stringify:h.stringify}}i&&define(function(){return h})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){!function(t,r){"object"==typeof n?e.exports=r():"function"==typeof define&&define.amd?define(r):t.Spinner=r()}(this,function(){function t(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function e(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,n,r){var i=["opacity",e,~~(100*t),n,r].join("-"),a=.01+n/r*100,o=Math.max(1-(1-t)/e*(100-a),t),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=s&&"-"+s+"-"||"";return h[i]||(u.insertRule("@"+l+"keyframes "+i+"{0%{opacity:"+o+"}"+a+"%{opacity:"+t+"}"+(a+.01)+"%{opacity:1}"+(a+e)%100+"%{opacity:"+t+"}100%{opacity:"+o+"}}",u.cssRules.length),h[i]=1),i}function r(t,e){var n,r,i=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==i[e])return e;for(r=0;r<p.length;r++)if(n=p[r]+e,void 0!==i[n])return n}function i(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t}function o(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){this.opts=a(t||{},s.defaults,d)}function l(){function n(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}u.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,r){function a(){return i(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function s(t,s,l){e(h,e(i(a(),{rotation:360/r.lines*t+"deg",left:~~s}),e(i(n("roundrect",{arcsize:r.corners}),{width:c,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:o(r.color,t),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,c=r.scale*(r.length+r.width),u=2*r.scale*c,p=-(r.width+r.length)*r.scale*2+"px",h=i(a(),{position:"absolute",top:p,left:p});if(r.shadow)for(l=1;l<=r.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)s(l);return e(t,h)},s.prototype.opacity=function(t,e,n,r){var i=t.firstChild;r=r.shadow&&r.lines||0,i&&e+r<i.childNodes.length&&(i=i.childNodes[e+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}}var c,u,p=["webkit","Moz","ms","O"],h={},d={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},a(s.prototype,{spin:function(e){this.stop();var n=this,r=n.opts,a=n.el=t(null,{className:r.className});if(i(a,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),e&&e.insertBefore(a,e.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!c){var o,s=0,l=(r.lines-1)*(1-r.direction)/2,u=r.fps,p=u/r.speed,h=(1-r.opacity)/(p*r.trail/100),d=p/r.lines;!function f(){s++;for(var t=0;t<r.lines;t++)o=Math.max(1-(s+(r.lines-t)*d)%p*h,r.opacity),n.opacity(a,t*r.direction+l,o,r);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(r,a){function s(e,n){return i(t(),{position:"absolute",width:a.scale*(a.length+a.width)+"px",height:a.scale*a.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*u+a.rotate)+"deg) translate("+a.scale*a.radius+"px,0)",borderRadius:(a.corners*a.scale*a.width>>1)+"px"})}for(var l,u=0,p=(a.lines-1)*(1-a.direction)/2;u<a.lines;u++)l=i(t(),{position:"absolute",top:1+~(a.scale*a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:c&&n(a.opacity,a.trail,p+u*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&e(l,i(s("#000","0 0 4px #000"),{top:"2px"})),e(r,e(l,s(o(a.color,u),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),"undefined"!=typeof document){u=function(){var n=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var f=i(t("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?l():c=r(f,"animation")}return s})},{}],5:[function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function a(){if(y.XMLHttpRequest&&("file:"!=y.location.protocol||!y.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function o(t){return t===Object(t)}function s(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function l(t){for(var e,n,r={},i=t.split("&"),a=0,o=i.length;o>a;++a)n=i[a],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function c(t){var e,n,r,i,a=t.split(/\r?\n/),o={};a.pop();for(var s=0,l=a.length;l>s;++s)n=a[s],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=m(n.slice(e+1)),o[r]=i;return o}function u(t){return t.split(/ *; */).shift()}function p(t){return v(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function d(t,e){var n=this;g.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(r){t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r}n.callback(t,e)})}function f(t,e){return"function"==typeof e?new d("GET",t).end(e):1==arguments.length?new d("GET",t):new d(t,e)}var g=t("emitter"),v=t("reduce"),y="undefined"==typeof window?this:window,m="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=s,f.parseString=l,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=u(e);var n=p(e);for(var r in n)this[r]=n[r]},h.prototype.parseBody=function(t){var e=f.parse[this.type];return e&&t&&t.length?e(t):null},h.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},f.Response=h,g(d.prototype),d.prototype.use=function(t){return t(this),this},d.prototype.timeout=function(t){return this._timeout=t,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},d.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},d.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},d.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},d.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},d.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},d.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},d.prototype.field=function(t,e){return this._formData||(this._formData=new FormData),this._formData.append(t,e),this},d.prototype.attach=function(t,e,n){return this._formData||(this._formData=new FormData),this._formData.append(t,e,n),this},d.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return e?(n||this.type("json"),this):this},d.prototype.callback=function(t,e){var n=this._callback;return this.clearTimeout(),2==n.length?n(t,e):t?this.emit("error",t):void n(e)},d.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,n=this.xhr=a(),o=this._query.join("&"),s=this._timeout,l=this._formData||this._data;if(this._callback=t||r,n.onreadystatechange=function(){return 4==n.readyState?0==n.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},n.upload&&(n.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),s&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},s)),o&&(o=f.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof l&&!i(l)){var c=f.serialize[this.getHeader("Content-Type")];c&&(l=c(l))}for(var u in this.header)null!=this.header[u]&&n.setRequestHeader(u,this.header[u]);return this.emit("request",this),n.send(l),this},f.Request=d,f.get=function(t,e,n){var r=f("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},f.head=function(t,e,n){var r=f("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.del=function(t,e){var n=f("DELETE",t);return e&&n.end(e),n},f.patch=function(t,e,n){var r=f("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.post=function(t,e,n){var r=f("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.put=function(t,e,n){var r=f("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=f},{emitter:6,reduce:7}],6:[function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],7:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,i=t.length,a=3==arguments.length?n:t[r++];i>r;)a=e.call(null,a,t[r],++r,t);return a}},{}],8:[function(t,e,n){var r=t("./index"),i=t("./utils/each");e.exports=function(){var t,e,n=window.Keen||null,a=window._Keen||null;n&&a&&(t=a.clients||{},e=a.ready||[],i(t,function(t,e){i(r.prototype,function(t,e){n.prototype[e]=t}),i(["Query","Request","Dataset","Dataviz"],function(t){n[t]=r[t]?r[t]:function(){}}),t._config&&t.configure.call(t,t._config),t._setGlobalProperties&&i(t._setGlobalProperties,function(e){t.setGlobalProperties.apply(t,e)}),t._addEvent&&i(t._addEvent,function(e){t.addEvent.apply(t,e)});t._on||[];t._on&&(i(t._on,function(e){t.on.apply(t,e)}),t.trigger("ready")),i(["_config","_setGlobalProperties","_addEvent","_on"],function(e){if(t[e]){t[e]=void 0;try{delete t[e]}catch(n){}}})}),i(e,function(t,e){r.once("ready",t)})),window._Keen=void 0;try{delete window._Keen}catch(o){}}},{"./index":16,"./utils/each":28}],9:[function(t,e,n){e.exports=function(){return"undefined"==typeof window?"server":"browser"}},{}],10:[function(t,e,n){var r=t("../utils/each"),i=t("../utils/json-shim");e.exports=function(t){var e=[];return r(t,function(t,n){"string"!=typeof t&&(t=i.stringify(t)),e.push(n+"="+encodeURIComponent(t))}),"?"+e.join("&")}},{"../utils/each":28,"../utils/json-shim":31}],11:[function(t,e,n){e.exports=function(){return-60*(new Date).getTimezoneOffset()}},{}],12:[function(t,e,n){e.exports=function(){return"undefined"!=typeof window&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)?2e3:16e3}},{}],13:[function(t,e,n){e.exports=function(){var t="undefined"==typeof window?this:window;if(t.XMLHttpRequest&&("file:"!=t.location.protocol||!t.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}},{}],14:[function(t,e,n){e.exports=function(t,e,n){var r=n||function(){};if(e&&!e.ok){var i=e.body&&e.body.error_code;t=new Error(i?e.body.message:"Unknown error occurred"),t.code=i?e.body.error_code:"UnknownError"}t?r(t,null):r(null,e.body)}},{}],15:[function(t,e,n){function r(){var t=p();return t&&(t.open("GET",this.url,!1),t.send(null)),this}function i(){function t(){window[a]=void 0;try{delete window[a]}catch(t){}i.removeChild(r)}var e=this,n=(new Date).getTime(),r=document.createElement("script"),i=document.getElementsByTagName("head")[0],a="keenJSONPCallback",l=!1;for(a+=n;a in window;)a+="a";window[a]=function(n){l!==!0&&(l=!0,o.call(e,n),t())},r.src=e.url+"&jsonp="+a,i.appendChild(r),r.onreadystatechange=function(){l===!1&&"loaded"===e.readyState&&(l=!0,s.call(e),t())},r.onerror=function(){l===!1&&(l=!0,s.call(e),t())}}function a(){var t=this,e=document.createElement("img"),n=!1;e.onload=function(){if(n=!0,"naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();o.call(t)},e.onerror=function(){n=!0,s.call(t)},e.src=t.url+"&c=clv1"}function o(t){var e=this.requestType.options.success,n="";if(c.call(this,e),t)try{n=JSON.stringify(t)}catch(r){}else n=e.responseText;this.xhr.responseText=n,
this.xhr.status=e.status,this.emit("end")}function s(){var t=this.requestType.options.error;c.call(this,t),this.xhr.responseText=t.responseText,this.xhr.status=t.status,this.emit("end")}function l(){this.aborted=!0,this.clearTimeout(),this.emit("abort")}function c(t){return this.xhr={getAllResponseHeaders:function(){return""},getResponseHeader:function(){return"application/json"},responseText:t.responseText,status:t.status},this}var u=t("superagent"),p=(t("../utils/each"),t("./get-xhr-object"));e.exports=function(t,e){return function(n){var o=n.constructor.prototype.end;if("undefined"!=typeof window)return n.requestType=n.requestType||{},n.requestType.type=t,n.requestType.options=n.requestType.options||{async:!0,success:{responseText:'{ "created": true }',status:201},error:{responseText:'{ "error_code": "ERROR", "message": "Request failed" }',status:404}},e&&("boolean"==typeof e.async&&(n.requestType.options.async=e.async),e.success&&extend(n.requestType.options.success,e.success),e.error&&extend(n.requestType.options.error,e.error)),n.end=function(t){var e,n,s=this,c=this.requestType?this.requestType.type:"xhr";return"GET"===s.method&&"xhr"!==c||!s.requestType.options.async?(e=s._query.join("&"),n=s._timeout,s._callback=t||noop,n&&!s._timer&&(s._timer=setTimeout(function(){l.call(s)},n)),e&&(e=u.serializeObject(e),s.url+=~s.url.indexOf("?")?"&"+e:"?"+e),s.emit("request",s),s.requestType.options.async?"jsonp"===c?i.call(s):"beacon"===c&&a.call(s):r.call(s),s):void o.call(s,t)},n}}},{"../utils/each":28,"./get-xhr-object":13,superagent:5}],16:[function(t,e,n){function r(t){this.configure(t||{}),r.trigger("client",this)}var i="undefined"!=typeof window?window:this,a=i.Keen,o=t("./utils/emitter-shim");r.debug=!1,r.enabled=!0,r.loaded=!0,r.version="3.2.7",o(r),o(r.prototype),r.prototype.configure=function(t){var e=t||{};e.host&&e.host.replace(/.*?:\/\//g,""),e.protocol&&"auto"===e.protocol&&(e.protocol=location.protocol.replace(/:/g,"")),this.config={projectId:e.projectId,writeKey:e.writeKey,readKey:e.readKey,masterKey:e.masterKey,requestType:e.requestType||"jsonp",host:e.host||"api.keen.io/3.0",protocol:e.protocol||"https",globalProperties:null},r.debug&&this.on("error",r.log),this.trigger("ready")},r.prototype.projectId=function(t){return arguments.length?(this.config.projectId=t?String(t):null,this):this.config.projectId},r.prototype.masterKey=function(t){return arguments.length?(this.config.masterKey=t?String(t):null,this):this.config.masterKey},r.prototype.readKey=function(t){return arguments.length?(this.config.readKey=t?String(t):null,this):this.config.readKey},r.prototype.writeKey=function(t){return arguments.length?(this.config.writeKey=t?String(t):null,this):this.config.writeKey},r.prototype.url=function(t){return this.projectId()?this.config.protocol+"://"+this.config.host+"/projects/"+this.projectId()+t:void this.trigger("error","Client is missing projectId property")},r.log=function(t){r.debug&&"object"==typeof console&&console.log("[Keen IO]",t)},r.noConflict=function(){return i.Keen=a,r},r.ready=function(t){r.loaded?t():r.once("ready",t)},e.exports=r},{"./utils/emitter-shim":29}],17:[function(t,e,n){function r(t,e){return t+=u({api_key:this.writeKey(),data:s.encode(i.stringify(e)),modified:(new Date).getTime()}),t.length<p()?t:!1}var i=t("../utils/json-shim"),a=t("superagent"),o=t("../index"),s=t("../utils/base64"),l=t("../utils/each"),c=t("../helpers/get-context"),u=t("../helpers/get-query-string"),p=t("../helpers/get-url-max-length"),h=t("../helpers/get-xhr-object"),d=t("../helpers/superagent-request-types"),f=t("../helpers/superagent-handle-response");e.exports=function(t,e,n,i){function s(t,e){f(t,e,w),w=n=null}function u(t){var e="Event not recorded: "+t;v.trigger("error",e),w&&(w.call(v,e,null),w=n=null)}var p,g,v=this,y=this.url("/events/"+encodeURIComponent(t)),m=this.config.requestType,b={},w=n;return p="boolean"==typeof i?i:!0,o.enabled?v.projectId()?v.writeKey()?t&&"string"==typeof t?(v.config.globalProperties&&(b=v.config.globalProperties(t)),l(e,function(t,e){b[e]=t}),h()||"xhr"!==m||(m="jsonp"),"xhr"===m&&p||(g=r.call(v,y,b)),void(g&&"browser"===c()?a.get(g).use(d(m,{async:p})).end(s):h()||"server"===c()?a.post(y).set("Content-Type","application/json").set("Authorization",v.writeKey()).send(b).end(s):v.trigger("error","Request not sent: URL length exceeds current browser limit, and XHR (POST) is not supported."))):void u.call(v,"Collection name must be a string"):void u.call(v,"Missing writeKey property"):void u.call(v,"Missing projectId property"):void u.call(v,"Keen.enabled = false")}},{"../helpers/get-context":9,"../helpers/get-query-string":10,"../helpers/get-url-max-length":12,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,"../index":16,"../utils/base64":26,"../utils/each":28,"../utils/json-shim":31,superagent:5}],18:[function(t,e,n){var r=t("../index"),i=t("superagent"),a=t("../utils/each"),o=t("../helpers/get-context"),s=t("../helpers/get-xhr-object"),l=(t("../helpers/superagent-request-types"),t("../helpers/superagent-handle-response"));e.exports=function(t,e){function n(t){var n="Events not recorded: "+t;c.trigger("error",n),h&&(h.call(c,n,null),h=e=null)}var c=this,u=this.url("/events"),p={},h=e;return r.enabled?c.projectId()?c.writeKey()?arguments.length>2?void n.call(c,"Incorrect arguments provided to #addEvents method"):"object"!=typeof t||t instanceof Array?void n.call(c,"Request payload must be an object"):(c.config.globalProperties?a(t,function(t,e){a(t,function(t,n){var r=c.config.globalProperties(e);a(t,function(t,e){r[e]=t}),p[e].push(r)})}):p=t,void(s()||"server"===o()?i.post(u).set("Content-Type","application/json").set("Authorization",c.writeKey()).send(p).end(function(t,n){l(t,n,h),h=e=null}):c.trigger("error","Events not recorded: XHR support is required for batch upload"))):void n.call(c,"Missing writeKey property"):void n.call(c,"Missing projectId property"):void n.call(c,"Keen.enabled = false")}},{"../helpers/get-context":9,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,"../index":16,"../utils/each":28,superagent:5}],19:[function(t,e,n){var r=t("superagent"),i=t("../helpers/get-query-string"),a=t("../helpers/superagent-handle-response"),o=t("../helpers/superagent-request-types");e.exports=function(t,e,n,s){var l=this.config.requestType,c=e||{};"beacon"===l&&(l="jsonp"),c.api_key=c.api_key||n,r.get(t+i(c)).use(o(l)).end(function(t,e){a(t,e,s),s=null})}},{"../helpers/get-query-string":10,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,superagent:5}],20:[function(t,e,n){var r=t("superagent"),i=t("../helpers/superagent-handle-response");e.exports=function(t,e,n,a){r.post(t).set("Content-Type","application/json").set("Authorization",n).send(e||{}).end(function(t,e){i(t,e,a),a=null})}},{"../helpers/superagent-handle-response":14,superagent:5}],21:[function(t,e,n){var r=t("../request");e.exports=function(t,e){var n,i=[],a=e;return t instanceof Array?i=t:i.push(t),n=new r(this,i,a).refresh(),a=e=null,n}},{"../request":25}],22:[function(t,e,n){e.exports=function(t){t&&"function"==typeof t?this.config.globalProperties=t:this.trigger("error","Invalid value for global properties: "+t)}},{}],23:[function(t,e,n){var r=t("./addEvent");e.exports=function(t,e,n,i,a){var o,s,l=t,c=l.currentTarget?l.currentTarget:l.srcElement||l.target,u=i||500,p=!1,h="";return void 0!==c.getAttribute?h=c.getAttribute("target"):c.target&&(h=c.target),"_blank"!=h&&"blank"!=h||l.metaKey||(s=window.open("about:blank"),s.document.location=c.href),"A"===c.nodeName?o=function(){p||l.metaKey||"_blank"===h||"blank"===h||(p=!0,window.location=c.href)}:"FORM"===c.nodeName?o=function(){p||(p=!0,c.submit())}:this.trigger("error","#trackExternalLink method not attached to an <a> or <form> DOM element"),a&&(o=function(){p||(p=!0,a())}),r.call(this,e,n,o),setTimeout(o,u),l.metaKey?void 0:!1}},{"./addEvent":17}],24:[function(t,e,n){function r(){this.configure.apply(this,arguments)}var i=t("./utils/each"),a=(t("./utils/extend"),t("./helpers/get-timezone-offset")),o=(t("./helpers/get-query-string"),t("./utils/emitter-shim"));o(r.prototype),r.prototype.configure=function(t,e){return this.analysis=t,this.params=this.params||{},this.set(e),void 0===this.params.timezone&&(this.params.timezone=a()),this},r.prototype.set=function(t){var e=this;return i(t,function(t,n){var r=n,a=t;n.match(new RegExp("[A-Z]"))&&(r=n.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})),e.params[r]=a,a instanceof Array&&i(a,function(t,n){t instanceof Array==0&&"object"==typeof t&&i(t,function(t,i){if(i.match(new RegExp("[A-Z]"))){var a=i.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()});delete e.params[r][n][i],e.params[r][n][a]=t}})})}),e},r.prototype.get=function(t){var e=t;return e.match(new RegExp("[A-Z]"))&&(e=e.replace(/([A-Z])/g,function(t){return"_"+t.toLowerCase()})),this.params?this.params[e]||null:void 0},r.prototype.addFilter=function(t,e,n){return this.params.filters=this.params.filters||[],this.params.filters.push({property_name:t,operator:e,property_value:n}),this},e.exports=r},{"./helpers/get-query-string":10,"./helpers/get-timezone-offset":11,"./utils/each":28,"./utils/emitter-shim":29,"./utils/extend":30}],25:[function(t,e,n){function r(t,e,n){var r=n;this.config={timeout:3e5},this.configure(t,e,r),r=n=null}var i=t("./utils/each"),a=t("./utils/extend"),o=t("./utils/sendQuery"),s=t("./"),l=t("./utils/emitter-shim");l(r.prototype),r.prototype.configure=function(t,e,n){var r=n;return a(this,{client:t,queries:e,data:{},callback:r}),r=n=null,this},r.prototype.timeout=function(t){return arguments.length?(this.config.timeout=isNaN(parseInt(t))?null:parseInt(t),this):this.config.timeout},r.prototype.refresh=function(){var t=this,e=0,n=[],r=!1,a=function(i,a,o){if(!r){if(i)return t.trigger("error",i),t.callback&&t.callback(i,null),void(r=!0);n[o]=a,e++,e!=t.queries.length||r||(t.data=1==t.queries.length?n[0]:n,t.trigger("complete",null,t.data),t.callback&&t.callback(null,t.data))}};return i(t.queries,function(e,n){var r,i=function(t,e){a(t,e,n)};if(e instanceof s.Query)r="/queries/"+e.analysis,o.call(t,r,e.params,i);else if("[object String]"===Object.prototype.toString.call(e))r="/saved_queries/"+encodeURIComponent(e)+"/result",o.call(t,r,null,i);else{var l={statusText:"Bad Request",responseText:{message:"Error: Query "+(+n+1)+" of "+t.queries.length+" for project "+t.client.projectId()+" is not a valid request"}};t.trigger("error",l.responseText.message),t.callback&&t.callback(l.responseText.message,null)}}),this},e.exports=r},{"./":16,"./utils/each":28,"./utils/emitter-shim":29,"./utils/extend":30,"./utils/sendQuery":33}],26:[function(t,e,n){e.exports={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,r,i,a,o,s,l="",c=0,u=this.map;for(t=this.utf8.encode(t);c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),r=t.charCodeAt(c++),i=e>>2,a=(3&e)<<4|n>>4,o=isNaN(n)?64:(15&n)<<2|r>>6,s=isNaN(n)||isNaN(r)?64:63&r,l=l+u.charAt(i)+u.charAt(a)+u.charAt(o)+u.charAt(s);return l},decode:function(t){var e,n,r,i,a,o,s,l="",c=0,u=this.map,p=String.fromCharCode;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)e=u.indexOf(t.charAt(c++)),n=u.indexOf(t.charAt(c++)),r=u.indexOf(t.charAt(c++)),i=u.indexOf(t.charAt(c++)),a=e<<2|n>>4,o=(15&n)<<4|r>>2,s=(3&r)<<6|i,l=l+(p(a)+(64!=r?p(o):""))+(64!=i?p(s):"");return this.utf8.decode(l)},utf8:{encode:function(t){for(var e,n="",r=0,i=String.fromCharCode;r<t.length;)e=t.charCodeAt(r++),n+=128>e?i(e):e>127&&2048>e?i(e>>6|192)+i(63&e|128):i(e>>12|224)+i(e>>6&63|128)+i(63&e|128);return n},decode:function(t){for(var e,n,r="",i=0,a=String.fromCharCode;i<t.length;)n=t.charCodeAt(i),r+=128>n?[a(n),i++][0]:n>191&&224>n?[a((31&n)<<6|63&(e=t.charCodeAt(i+1))),i+=2][0]:[a((15&n)<<12|(63&(e=t.charCodeAt(i+1)))<<6|63&(c3=t.charCodeAt(i+2))),i+=3][0];return r}}}},{}],27:[function(t,e,n){var r=t("./json-shim");e.exports=function(t){return r.parse(r.stringify(t))}},{"./json-shim":31}],28:[function(t,e,n){e.exports=function(t,e,n){var r;if(!t)return 0;if(n=n?n:t,t instanceof Array){for(r=0;r<t.length;r++)if(e.call(n,t[r],r,t)===!1)return 0}else for(r in t)if(t.hasOwnProperty(r)&&e.call(n,t[r],r,t)===!1)return 0;return 1}},{}],29:[function(t,e,n){var r=t("component-emitter");r.prototype.trigger=r.prototype.emit,e.exports=r},{"component-emitter":1}],30:[function(t,e,n){e.exports=function(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}},{}],31:[function(t,e,n){e.exports="undefined"!=typeof window&&window.JSON?window.JSON:t("json3")},{json3:3}],32:[function(t,e,n){function r(t){for(var e,n={},r=/\+/g,i=/([^&=]+)=?([^&]*)/g,a=function(t){return decodeURIComponent(t.replace(r," "))},o=t.split("?")[1];e=i.exec(o);)n[a(e[1])]=a(e[2]);return n}e.exports=r},{}],33:[function(t,e,n){var r=t("superagent"),i=t("../helpers/get-context"),a=t("../helpers/get-query-string"),o=t("../helpers/get-url-max-length"),s=t("../helpers/get-xhr-object"),l=t("../helpers/superagent-request-types"),c=t("../helpers/superagent-handle-response");e.exports=function(t,e,n){function u(t,e){c(t,e,d),d=n=null}var p=this,h=this.client.url(t),d=(this.client.config.requestType,n);return n=null,p.client.projectId()?p.client.readKey()?void(s()||"server"===i()?r.post(h).set("Content-Type","application/json").set("Authorization",p.client.readKey()).timeout(p.timeout()).send(e||{}).end(u):(extend(e,{api_key:p.client.readKey()}),h+=a(e),h.length<o()?r.get(h).timeout(p.timeout()).use(l("jsonp")).end(u):p.client.trigger("error","Query not sent: URL length exceeds current browser limit, and XHR (POST) is not supported."))):void p.client.trigger("error","Query not sent: Missing readKey property"):void p.client.trigger("error","Query not sent: Missing projectId property")}},{"../helpers/get-context":9,"../helpers/get-query-string":10,"../helpers/get-url-max-length":12,"../helpers/get-xhr-object":13,"../helpers/superagent-handle-response":14,"../helpers/superagent-request-types":15,superagent:5}],34:[function(t,e,n){function r(){this.data={input:{},output:[["index"]]},this.meta={schema:{},method:void 0},arguments.length>0&&this.parse.apply(this,arguments)}function i(t){var e,n,i=this,a=t||{},o=[],s=[];""!==a.records&&a.records?(n=a.records.split(r.defaults.delimeter),e=h.apply(i,[i.input()].concat(n))[0]):e=[i.input()],u(a.select,function(t){o.push(t.path.split(r.defaults.delimeter))}),0==o.length&&u(e,function(t,e){var n=p(t);for(var r in n)n.hasOwnProperty(r)&&-1==s.indexOf(r)&&(s.push(r),o.push([r]))});var l=[[]];return u(o,function(t,e){1==o.length?l[0].push("label","value"):l[0].push(t.join("."))}),u(e,function(t,e){var n=p(t);1==o.length?l.push([o.join("."),n[o.join(".")]]):(l.push([]),u(o,function(t,r){var i=t.join(".");l[e+1].push(n[i])}))}),i.output(l),i.format(a.select),i}function a(t){var e=this,n=[],i=t.unpack.value?t.unpack.value.path.split(r.defaults.delimeter):!1,a=t.unpack.label?t.unpack.label.path.split(r.defaults.delimeter):!1,o=t.unpack.index?t.unpack.index.path.split(r.defaults.delimeter):!1,s=""!==i[i.length-1]?i[i.length-1]:"Value",l=""!==a[a.length-1]?a[a.length-1]:"Label",c=""!==o[o.length-1]?o[o.length-1]:"Index",p=function(){var n;return n=""==t.records?[e.input()]:h.apply(e,[e.input()].concat(t.records.split(r.defaults.delimeter))),n[0]}();return p instanceof Array==0&&(p=[p]),u(p,function(t,r){var i=a?h.apply(e,[t].concat(a)):[];i&&(n=i)}),u(p,function(t,r){var a=i?h.apply(e,[t].concat(i)):!1,d=o?h.apply(e,[t].concat(o)):!1;d?u(d,function(){e.data.output.push([])}):e.data.output.push([]),d&&(0==r&&(e.data.output[0].push(c),n.length>0?u(n,function(t,n){e.data.output[0].push(t)}):e.data.output[0].push(s)),p.length<e.data.output.length-1?0==r&&u(e.data.output,function(t,n){n>0&&e.data.output[n].push(d[n-1])}):e.data.output[r+1].push(d[0])),!d&&n.length>0&&(0==r&&(e.data.output[0].push(l),e.data.output[0].push(s)),e.data.output[r+1].push(n[0])),d||0!=n.length||e.data.output[0].push(""),a?p.length<e.data.output.length-1?0==r&&u(e.data.output,function(t,n){n>0&&e.data.output[n].push(a[n-1])}):u(a,function(t){e.data.output[r+1].push(t)}):u(e.data.output[0],function(t,n){var i=d?0:-1;n>i&&e.data.output[r+1].push(null)})}),e.format(t.unpack),this}function o(t){return u(t.unpack,function(e,n,r){e&&s(e,"string")&&(t.unpack[n]={path:t.unpack[n]})}),t}function s(t,e){return t=typeof t,e?t==e:"undefined"!=t}function l(t,e){return u(e,function(e,n){s(t[n],"object")&&s(e,"object")?t[n]=l(t[n],e):null!==e&&(t[n]=e)}),t}var c=t("../core/utils/clone"),u=t("../core/utils/each"),p=t("./utils/flatten"),h=t("./utils/parse"),d=t("../core/utils/emitter-shim");r.defaults={delimeter:" -> "},d(r),d(r.prototype),r.prototype.input=function(t){return arguments.length?(this.data.input=t?c(t):null,this):this.data.input},r.prototype.output=function(t){return arguments.length?(this.data.output=t instanceof Array?t:null,this):this.data.output},r.prototype.method=function(t){return arguments.length?(this.meta.method=t?String(t):null,this):this.meta.method},r.prototype.schema=function(t){return arguments.length?(this.meta.schema=t?t:null,this):this.meta.schema},r.prototype.parse=function(t,e){var n;return t&&this.input(t),e&&this.schema(e),this.output([[]]),this.meta.schema.select?(this.method("select"),n=l({records:"",select:!0},this.schema()),i.call(this,o(n))):this.meta.schema.unpack&&(this.method("unpack"),n=l({records:"",unpack:{index:!1,value:!1,label:!1}},this.schema()),a.call(this,o(n))),this},e.exports=r},{"../core/utils/clone":27,"../core/utils/each":28,"../core/utils/emitter-shim":29,"./utils/flatten":47,"./utils/parse":48}],35:[function(t,e,n){var r=t("../core/utils/extend"),i=t("./dataset");r(i.prototype,t("./lib/append")),r(i.prototype,t("./lib/delete")),r(i.prototype,t("./lib/filter")),r(i.prototype,t("./lib/insert")),r(i.prototype,t("./lib/select")),r(i.prototype,t("./lib/set")),r(i.prototype,t("./lib/sort")),r(i.prototype,t("./lib/update")),r(i.prototype,t("./lib/analyses")),r(i.prototype,{format:t("./lib/format")}),e.exports=i},{"../core/utils/extend":30,"./dataset":34,"./lib/analyses":36,"./lib/append":37,"./lib/delete":38,"./lib/filter":39,"./lib/format":40,"./lib/insert":41,"./lib/select":42,"./lib/set":43,"./lib/sort":44,"./lib/update":45}],36:[function(t,e,n){var r=t("../../core/utils/each"),i=["Average","Maximum","Minimum","Sum"],a={};a.average=function(t,e,n){var i=t.slice(e||0,n?n+1:t.length),a=0;return r(i,function(t,e){"number"!=typeof t||isNaN(parseFloat(t))||(a+=parseFloat(t))}),a/i.length},a.maximum=function(t,e,n){var i=t.slice(e||0,n?n+1:t.length),a=[];return r(i,function(t,e){"number"!=typeof t||isNaN(parseFloat(t))||a.push(parseFloat(t))}),Math.max.apply(Math,a)},a.minimum=function(t,e,n){var i=t.slice(e||0,n?n+1:t.length),a=[];return r(i,function(t,e){"number"!=typeof t||isNaN(parseFloat(t))||a.push(parseFloat(t))}),Math.min.apply(Math,a)},a.sum=function(t,e,n){var i=t.slice(e||0,n?n+1:t.length),a=0;return r(i,function(t,e){"number"!=typeof t||isNaN(parseFloat(t))||(a+=parseFloat(t))}),a},r(i,function(t,e){a["getColumn"+t]=a["getRow"+t]=function(e){return this[t.toLowerCase()](e,1)}}),a.getColumnLabel=a.getRowIndex=function(t){return t[0]},e.exports=a},{"../../core/utils/each":28}],37:[function(t,e,n){function r(t,e){var n=this,r=(Array.prototype.slice.call(arguments,2),void 0!==t?t:null);return"function"==typeof e?(n.data.output[0].push(r),a(n.output(),function(t,r){var i;r>0&&(i=e.call(n,t,r),"undefined"==typeof i&&(i=null),n.data.output[r].push(i))})):(!e||e instanceof Array)&&(e=e||[],e.length<=n.output().length-1?e=e.concat(o(n.output().length-1-e.length)):a(e,function(t,r){n.data.output.length-1<e.length&&i.call(n,String(n.data.output.length))}),n.data.output[0].push(r),a(e,function(t,e){n.data.output[e+1][n.data.output[0].length-1]=t})),n}function i(t,e){var n=this,i=(Array.prototype.slice.call(arguments,2),void 0!==t?t:null),s=[];return s.push(i),"function"==typeof e?(a(n.data.output[0],function(t,r){var i,a;r>0&&(i=n.selectColumn(r),a=e.call(n,i,r),"undefined"==typeof a&&(a=null),s.push(a))}),n.data.output.push(s)):(!e||e instanceof Array)&&(e=e||[],e.length<=n.data.output[0].length-1?e=e.concat(o(n.data.output[0].length-1-e.length)):a(e,function(t,i){n.data.output[0].length-1<e.length&&r.call(n,String(n.data.output[0].length))}),n.data.output.push(s.concat(e))),n}var a=t("../../core/utils/each"),o=t("../utils/create-null-list");e.exports={appendColumn:r,appendRow:i}},{"../../core/utils/each":28,"../utils/create-null-list":46}],38:[function(t,e,n){function r(t){var e=this,n="number"==typeof t?t:this.data.output[0].indexOf(t);return n>-1&&a(e.data.output,function(t,r){e.data.output[r].splice(n,1)}),e}function i(t){var e="number"==typeof t?t:this.selectColumn(0).indexOf(t);return e>-1&&this.data.output.splice(e,1),this}var a=t("../../core/utils/each");e.exports={deleteColumn:r,deleteRow:i}},{"../../core/utils/each":28}],39:[function(t,e,n){function r(t){var e=this,n=new Array;return a(e.data.output,function(t,e){n.push([])}),a(e.data.output[0],function(r,i){var o=e.selectColumn(i);(0==i||t.call(e,o,i))&&a(o,function(t,e){n[e].push(t)})}),e.output(n),e}function i(t){var e=this,n=[];return a(e.output(),function(r,i){(0==i||t.call(e,r,i))&&n.push(r)}),e.output(n),e}var a=t("../../core/utils/each");e.exports={filterColumns:r,filterRows:i}},{"../../core/utils/each":28}],40:[function(t,e,n){function r(t,e){var n=t,r=e||{};return r.replace&&i(r.replace,function(t,e){(n==e||String(n)==String(e)||parseFloat(n)==parseFloat(e))&&(n=t)}),r.type&&"date"==r.type&&(n=r.format&&moment&&moment(t).isValid()?moment(n).format(r.format):new Date(n)),r.type&&"string"==r.type&&(n=String(n)),r.type&&"number"==r.type&&!isNaN(parseFloat(n))&&(n=parseFloat(n)),n}var i=t("../../core/utils/each");e.exports=function(t){var e=this;return"select"===this.method()&&i(e.output(),function(n,a){0==a?i(n,function(n,r){t[r]&&t[r].label&&(e.data.output[a][r]=t[r].label)}):i(n,function(n,i){e.data.output[a][i]=r(e.data.output[a][i],t[i])})}),"unpack"===this.method()&&(t.index&&i(e.output(),function(n,i){0==i?t.index.label&&(e.data.output[i][0]=t.index.label):e.data.output[i][0]=r(e.data.output[i][0],t.index)}),t.label&&(t.index?i(e.output(),function(n,a){i(n,function(n,i){0==a&&i>0&&(e.data.output[a][i]=r(e.data.output[a][i],t.label))})}):i(e.output(),function(n,i){i>0&&(e.data.output[i][0]=r(e.data.output[i][0],t.label))})),t.value&&(t.index?i(e.output(),function(n,a){i(n,function(n,i){a>0&&i>0&&(e.data.output[a][i]=r(e.data.output[a][i],t.value))})}):i(e.output(),function(n,a){i(n,function(n,i){a>0&&(e.data.output[a][i]=r(e.data.output[a][i],t.value))})}))),e}},{"../../core/utils/each":28}],41:[function(t,e,n){function r(t,e,n){var r,i=this;return r=void 0!==e?e:null,"function"==typeof n?(i.data.output[0].splice(t,0,r),a(i.output(),function(e,r){var a;r>0&&(a=n.call(i,e,r),"undefined"==typeof a&&(a=null),i.data.output[r].splice(t,0,a))})):(!n||n instanceof Array)&&(n=n||[],n.length<=i.output().length-1?n=n.concat(o(i.output().length-1-n.length)):a(n,function(t,e){i.data.output.length-1<n.length&&l.call(i,String(i.data.output.length))}),i.data.output[0].splice(t,0,r),a(n,function(e,n){i.data.output[n+1].splice(t,0,e)})),i}function i(t,e,n){var r,i=this,s=[];return r=void 0!==e?e:null,s.push(r),"function"==typeof n?(a(i.output()[0],function(t,e){var r,a;e>0&&(r=i.selectColumn(e),a=n.call(i,r,e),"undefined"==typeof a&&(a=null),s.push(a))}),i.data.output.splice(t,0,s)):(!n||n instanceof Array)&&(n=n||[],n.length<=i.data.output[0].length-1?n=n.concat(o(i.data.output[0].length-1-n.length)):a(n,function(t,e){i.data.output[0].length-1<n.length&&c.call(i,String(i.data.output[0].length))}),i.data.output.splice(t,0,s.concat(n))),i}var a=t("../../core/utils/each"),o=t("../utils/create-null-list"),s=t("./append"),l=s.appendRow,c=s.appendColumn;e.exports={insertColumn:r,insertRow:i}},{"../../core/utils/each":28,"../utils/create-null-list":46,"./append":37}],42:[function(t,e,n){function r(t){var e=new Array,n="number"==typeof t?t:this.data.output[0].indexOf(t);return n>-1&&"undefined"!=typeof this.data.output[0][n]&&a(this.data.output,function(t,r){e.push(t[n])}),e}function i(t){var e=new Array,n="number"==typeof t?t:this.selectColumn(0).indexOf(t);return n>-1&&"undefined"!=typeof this.data.output[n]&&(e=this.data.output[n]),e}var a=t("../../core/utils/each");e.exports={selectColumn:r,selectRow:i}},{"../../core/utils/each":28}],43:[function(t,e,n){function r(t,e){if(arguments.length<2||t.length<2)throw Error("Incorrect arguments provided for #set method");var n="number"==typeof t[0]?t[0]:this.data.output[0].indexOf(t[0]),r="number"==typeof t[1]?t[1]:a.selectColumn.call(this,0).indexOf(t[1]),o=a.selectColumn.call(this,t[0]),s=a.selectRow.call(this,t[1]);return o.length<1&&(i.appendColumn.call(this,t[0]),n=this.data.output[0].length-1),s.length<1&&(i.appendRow.call(this,t[1]),r=this.data.output.length-1),this.data.output[r][n]=e,this}var i=(t("../../core/utils/each"),t("./append")),a=t("./select");e.exports={set:r}},{"../../core/utils/each":28,"./append":37,"./select":42}],44:[function(t,e,n){function r(t,e){var n=this,r=this.output()[0].slice(1),i=[],o=e||this.getColumnLabel;return a(r,function(t,e){i.push(n.selectColumn(e+1).slice(0))}),i.sort(function(e,r){var i=o.call(n,e)>o.call(n,r);return i?"asc"===t?1:-1:i?0:"asc"===t?-1:1}),a(i,function(t,e){n.deleteColumn(e+1).insertColumn(e+1,t[0],t.slice(1))}),n}function i(t,e){var n=this,r=this.output().slice(0,1),i=this.output().slice(1),a=e||this.getRowIndex;return i.sort(function(e,r){var i=a.call(n,e)>a.call(n,r);return i?"asc"===t?1:-1:i?0:"asc"===t?-1:1}),n.output(r.concat(i)),n}var a=t("../../core/utils/each");e.exports={sortColumns:r,sortRows:i}},{"../../core/utils/each":28}],45:[function(t,e,n){function r(t,e){var n=this,r="number"==typeof t?t:this.data.output[0].indexOf(t);return r>-1&&("function"==typeof e?a(n.output(),function(t,i){var a;i>0&&(a=e.call(n,t[r],i,t),"undefined"!=typeof a&&(n.data.output[i][r]=a))}):(!e||e instanceof Array)&&(e=e||[],e.length<=n.output().length-1?e=e.concat(o(n.output().length-1-e.length)):a(e,function(t,r){n.data.output.length-1<e.length&&l.call(n,String(n.data.output.length))}),a(e,function(t,e){n.data.output[e+1][r]=t}))),n}function i(t,e){var n=this,r="number"==typeof t?t:this.selectColumn(0).indexOf(t);return r>-1&&("function"==typeof e?a(n.output()[r],function(t,i){var a=n.selectColumn(i),o=e.call(n,t,i,a);"undefined"!=typeof o&&(n.data.output[r][i]=o)}):(!e||e instanceof Array)&&(e=e||[],e.length<=n.data.output[0].length-1?e=e.concat(o(n.data.output[0].length-1-e.length)):a(e,function(t,r){n.data.output[0].length-1<e.length&&c.call(n,String(n.data.output[0].length))}),a(e,function(t,e){n.data.output[r][e+1]=t}))),n}var a=t("../../core/utils/each"),o=t("../utils/create-null-list"),s=t("./append"),l=s.appendRow,c=s.appendColumn;e.exports={updateColumn:r,updateRow:i}},{"../../core/utils/each":28,"../utils/create-null-list":46,"./append":37}],46:[function(t,e,n){e.exports=function(t){var e=new Array;for(i=0;i<t;i++)e.push(null);return e}},{}],47:[function(t,e,n){function r(t){var e={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]&&null!==t[n]){var i=r(t[n]);for(var a in i)i.hasOwnProperty(a)&&(e[n+"."+a]=i[a])}else e[n]=t[n];return e}e.exports=r},{}],48:[function(t,e,n){var r=t("../../core/utils/each");e.exports=function(){var t=[],e=function(){var n=arguments[0],i=Array.prototype.slice.call(arguments,1),a=i.pop();return 0===i.length&&(n instanceof Array?i=n:"object"==typeof n&&i.push(n)),r(i,function(o){if(""==a&&("number"==typeof o||null==o))return t.push(o);if(o[a]||0===o[a]||void 0!==o[a])return null===o[a]?t.push(null):t.push(o[a]);if(!n[o]){if("object"!=typeof n||n instanceof Array!=!1||n[a])return e.apply(this,[o].concat(i.splice(1)).concat(a));throw new Error("Target property does not exist",a)}return n[o]instanceof Array?void r(n[o],function(t,r){var s=[n[o]].concat(n[o][r]).concat(i.slice(1)).concat(a);return e.apply(this,s)}):n[o][a]?t.push(n[o][a]):e.apply(this,[n[o]].concat(i.splice(1)).concat(a))}),t.length>0?t:void 0};return e.apply(this,arguments)}},{"../../core/utils/each":28}],49:[function(t,e,n){var r=t("../dataviz"),i=t("../../core/utils/each"),a=t("../../core/utils/extend");e.exports=function(){function t(t){var e={axis:{},bindto:this.el(),data:{columns:[]},color:{pattern:this.colors()},size:{height:this.height(),width:this.width()}};return e.data.type=t,"gauge"===t||("pie"===t||"donut"===t?e[t]={title:this.title()}:(this.dataType().indexOf("chron")>-1?(e.data.x="x",e.axis.x={type:"timeseries",tick:{format:"%Y-%m-%d"}}):"cat-ordinal"===this.dataType()&&(e.axis.x={type:"category",categories:this.labels()}),this.title()&&(e.axis.y={label:this.title()}))),a(e,this.chartOptions())}function e(){this.view._artifacts.c3&&(this.view._artifacts.c3.destroy(),this.view._artifacts.c3=null)}var n={singular:["gauge"],categorical:["donut","pie"],"cat-interval":["area-step","step","bar","area","area-spline","spline","line"],"cat-ordinal":["bar","area","area-spline","spline","line","step","area-step"],chronological:["area","area-spline","spline","line","bar","step","area-step"],"cat-chronological":["line","spline","area","area-spline","bar","step","area-step"]},o={};i(["gauge","donut","pie","bar","area","area-spline","spline","line","step","area-step"],function(n,r){o[n]={render:function(){var e=t.call(this,n);this.view._artifacts.c3=c3.generate(e),this.update()},update:function(){var t=this,e=[];"gauge"===n?t.view._artifacts.c3.load({columns:[[t.title(),t.data()[1][1]]]}):"pie"===n||"donut"===n?t.view._artifacts.c3.load({columns:t.dataset.data.output.slice(1)}):(this.dataType().indexOf("chron")>-1&&(e.push(t.dataset.selectColumn(0)),e[0][0]="x"),i(t.data()[0],function(n,r){r>0&&e.push(t.dataset.selectColumn(r))}),t.stacked()&&t.view._artifacts.c3.groups([t.labels()]),t.view._artifacts.c3.load({columns:e}))},destroy:function(){e.call(this)}}}),r.register("c3",o,{capabilities:n})}},{"../../core/utils/each":28,"../../core/utils/extend":30,"../dataviz":53}],50:[function(t,e,n){var r=t("../dataviz"),i=t("../../core/utils/each"),a=t("../../core/utils/extend");e.exports=function(){function t(){var t=this,e=[];return i(t.dataset.selectColumn(0).slice(1),function(n,r){e.push({value:t.dataset.selectColumn(1).slice(1)[r],color:t.colors()[+r],hightlight:t.colors()[+r+9],label:n})}),e}function e(){var t,e=this,n={labels:[],datasets:[]};return t=this.dataset.selectColumn(0).slice(1),i(t,function(t,e){t instanceof Date?n.labels.push(t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()):n.labels.push(t)}),i(e.dataset.selectRow(0).slice(1),function(t,r){var i={r:o(e.colors()[r]),g:s(e.colors()[r]),b:l(e.colors()[r])};n.datasets.push({label:t,fillColor:"rgba("+i.r+","+i.g+","+i.b+",0.2)",strokeColor:"rgba("+i.r+","+i.g+","+i.b+",1)",pointColor:"rgba("+i.r+","+i.g+","+i.b+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+i.r+","+i.g+","+i.b+",1)",data:e.dataset.selectColumn(+r+1).slice(1)})}),n}function n(){this.view._artifacts.chartjs&&(this.view._artifacts.chartjs.destroy(),this.view._artifacts.chartjs=null)}function o(t){return parseInt(c(t).substring(0,2),16)}function s(t){return parseInt(c(t).substring(2,4),16)}function l(t){return parseInt(c(t).substring(4,6),16)}function c(t){return"#"==t.charAt(0)?t.substring(1,7):t}"undefined"!=typeof Chart&&(Chart.defaults.global.responsive=!0);var u={categorical:["doughnut","pie","polar-area","radar"],"cat-interval":["bar","line"],"cat-ordinal":["bar","line"],chronological:["line","bar"],"cat-chronological":["line","bar"]},p={radar:"Radar","polar-area":"PolarArea",pie:"Pie",doughnut:"Doughnut",line:"Line",bar:"Bar"},h={doughnut:t,pie:t,"polar-area":t,radar:e,line:e,bar:e},d={};i(["doughnut","pie","polar-area","radar","bar","line"],function(t,e){
d[t]={initialize:function(){if("canvas"!==this.el().nodeName.toLowerCase()){var t=document.createElement("canvas");this.el().innerHTML="",this.el().appendChild(t),this.view._artifacts.ctx=t.getContext("2d")}else this.view._artifacts.ctx=this.el().getContext("2d");return this.height()&&(this.view._artifacts.ctx.canvas.height=this.height(),this.view._artifacts.ctx.canvas.style.height=String(this.height()+"px")),this.width()&&(this.view._artifacts.ctx.canvas.width=this.width(),this.view._artifacts.ctx.canvas.style.width=String(this.width()+"px")),this},render:function(){var e=p[t],n=a({},this.chartOptions()),r=h[t].call(this);return this.view._artifacts.chartjs&&this.view._artifacts.chartjs.destroy(),this.view._artifacts.chartjs=new Chart(this.view._artifacts.ctx)[e](r,n),this},destroy:function(){n.call(this)}}}),r.register("chartjs",d,{capabilities:u})}},{"../../core/utils/each":28,"../../core/utils/extend":30,"../dataviz":53}],51:[function(t,e,n){var r=t("../dataviz"),i=t("../../core/utils/each"),a=t("../../core/utils/extend"),o=t("../../core");e.exports=function(){function t(t){var e=n[t.message]||t.message||"An error occurred";this.error(e)}function e(t){var e={};switch(t.toLowerCase()){case"areachart":e.lineWidth=2,e.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},e.vAxis={viewWindow:{min:0}},("chronological"===this.dataType()||"cat-ordinal"===this.dataType())&&(e.legend="none",e.chartArea={width:"85%"});break;case"barchart":e.hAxis={viewWindow:{min:0}},e.vAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},("chronological"===this.dataType()||"cat-ordinal"===this.dataType())&&(e.legend="none");break;case"columnchart":e.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},e.vAxis={viewWindow:{min:0}},("chronological"===this.dataType()||"cat-ordinal"===this.dataType())&&(e.legend="none",e.chartArea={width:"85%"});break;case"linechart":e.lineWidth=2,e.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},e.vAxis={viewWindow:{min:0}},("chronological"===this.dataType()||"cat-ordinal"===this.dataType())&&(e.legend="none",e.chartArea={width:"85%"});break;case"piechart":e.sliceVisibilityThreshold=.01;break;case"table":}return e}o.loaded=!1;var n={"Data column(s) for axis #0 cannot be of type string":"No results to visualize"},s=["AreaChart","BarChart","ColumnChart","LineChart","PieChart","Table"],l={},c={categorical:["piechart","barchart","columnchart","table"],"cat-interval":["columnchart","barchart","table"],"cat-ordinal":["barchart","columnchart","areachart","linechart","table"],chronological:["areachart","linechart","table"],"cat-chronological":["linechart","columnchart","barchart","areachart"],nominal:["table"],extraction:["table"]};i(s,function(n){var r=n.toLowerCase();l[r]={initialize:function(){},render:function(){if("undefined"==typeof google)return void this.error("The Google Charts library could not be loaded.");var e=this;e.view._artifacts.googlechart&&this.destroy(),e.view._artifacts.googlechart=e.view._artifacts.googlechart||new google.visualization[n](e.el()),google.visualization.events.addListener(e.view._artifacts.googlechart,"error",function(n){t.call(e,n)}),this.update()},update:function(){var t=e.call(this,n);a(t,this.chartOptions(),this.attributes()),t.isStacked=this.stacked()||t.isStacked,this.view._artifacts.datatable=google.visualization.arrayToDataTable(this.data()),this.view._artifacts.googlechart&&this.view._artifacts.googlechart.draw(this.view._artifacts.datatable,t)},destroy:function(){this.view._artifacts.googlechart&&(google.visualization.events.removeAllListeners(this.view._artifacts.googlechart),this.view._artifacts.googlechart.clearChart(),this.view._artifacts.googlechart=null,this.view._artifacts.datatable=null)}}}),r.register("google",l,{capabilities:c,dependencies:[{type:"script",url:"https://www.google.com/jsapi",cb:function(t){"undefined"==typeof google?(this.trigger("error","Problem loading Google Charts library. Please contact us!"),t()):google.load("visualization","1.1",{packages:["corechart","table"],callback:function(){t()}})}}]})}},{"../../core":16,"../../core/utils/each":28,"../../core/utils/extend":30,"../dataviz":53}],52:[function(t,e,n){var r=t("../../core"),i=(t("../dataviz"),t("../../core/utils/clone")),a=t("../../core/utils/each"),o=t("../../core/utils/extend"),s=t("../utils/prettyNumber");e.exports=function(){var t,e,n;r.Error={defaults:{backgroundColor:"",borderRadius:"4px",color:"#ccc",display:"block",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:"21px",fontWeight:"light",textAlign:"center"}},r.Spinner.defaults={height:138,lines:10,length:8,width:3,radius:10,corners:1,rotate:0,direction:1,color:"#4d4d4d",speed:1.67,trail:60,shadow:!1,hwaccel:!1,className:"keen-spinner",zIndex:2e9,top:"50%",left:"50%"};var l={singular:["metric"]};t={initialize:function(){var t=document.createElement("style"),e="#49c5b1";t.id="keen-widgets",t.type="text/css",t.innerHTML="  .keen-metric { \n  background: "+e+"; \n  border-radius: 4px; \n  color: #fff; \n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; \n  padding: 10px 0; \n  text-align: center; \n}   .keen-metric-value { \n  display: block; \n  font-size: 84px; \n  font-weight: 700; \n  line-height: 84px; \n}   .keen-metric-title { \n  display: block; \n  font-size: 24px; \n  font-weight: 200; \n}",document.getElementById(t.id)||document.body.appendChild(t)},render:function(){var t=1==this.colors().length?this.colors()[0]:"#49c5b1",e=this.title()||"Result",n=this.data()[1][1]||0,r=this.width(),i=this.chartOptions()||{},a="",o="",l={width:r?r+"px":"auto"},c=n;("undefined"==typeof i.prettyNumber||1==i.prettyNumber)&&(isNaN(parseInt(n))||(c=s(n))),i.prefix&&(a='<span class="keen-metric-prefix">'+i.prefix+"</span>"),i.suffix&&(o='<span class="keen-metric-suffix">'+i.suffix+"</span>"),this.el().innerHTML='<div class="keen-widget keen-metric" style="background-color: '+t+"; width:"+l.width+';" title="'+n+'"><span class="keen-metric-value">'+a+c+o+'</span><span class="keen-metric-title">'+e+"</span></div>"}},e={initialize:function(){},render:function(t,e){var n,s,l=i(r.Error.defaults),c=o(l,e);n=document.createElement("div"),n.className="keen-error",a(c,function(t,e){n.style[e]=t}),n.style.height=String(this.height()+"px"),n.style.paddingTop=this.height()/2-15+"px",n.style.width=String(this.width()+"px"),s=document.createElement("span"),s.innerHTML=t||"Yikes! An error occurred!",n.appendChild(s),this.el().innerHTML="",this.el().appendChild(n)},destroy:function(){this.el().innerHTML=""}},n={initialize:function(){},render:function(){var t=document.createElement("div"),e=this.height()||r.Spinner.defaults.height;t.className="keen-loading",t.style.height=String(e+"px"),t.style.position="relative",t.style.width=String(this.width()+"px"),this.el().innerHTML="",this.el().appendChild(t),this.view._artifacts.spinner=new r.Spinner(r.Spinner.defaults).spin(t)},destroy:function(){this.view._artifacts.spinner.stop(),this.view._artifacts.spinner=null}},r.Dataviz.register("keen-io",{metric:t,error:e,spinner:n},{capabilities:l})}},{"../../core":16,"../../core/utils/clone":27,"../../core/utils/each":28,"../../core/utils/extend":30,"../dataviz":53,"../utils/prettyNumber":92}],53:[function(t,e,n){function r(){this.dataset=new p,this.view={_prepared:!1,_initialized:!1,_rendered:!1,_artifacts:{},adapter:{library:void 0,chartOptions:{},chartType:void 0,defaultChartType:void 0,dataType:void 0},attributes:i(r.defaults),defaults:i(r.defaults),el:void 0,loader:{library:"keen-io",chartType:"spinner"}},r.visuals.push(this)}var i=t("../core/utils/clone"),a=t("../core/utils/each"),o=t("../core/utils/extend"),s=t("./utils/loadScript"),l=t("./utils/loadStyle"),c=t("../core"),u=t("../core/utils/emitter-shim"),p=t("../dataset");o(r,{dataTypeMap:{singular:{library:"keen-io",chartType:"metric"},categorical:{library:"google",chartType:"piechart"},"cat-interval":{library:"google",chartType:"columnchart"},"cat-ordinal":{library:"google",chartType:"barchart"},chronological:{library:"google",chartType:"areachart"},"cat-chronological":{library:"google",chartType:"linechart"},extraction:{library:"google",chartType:"table"},nominal:{library:"google",chartType:"table"}},defaults:{colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],indexBy:"timeframe.start",stacked:!1},dependencies:{loading:0,loaded:0,urls:{}},libraries:{},visuals:[]}),u(r),u(r.prototype),r.register=function(t,e,n){var i=this,o=function(t){t.loaded++,t.loaded===t.loading&&(c.loaded=!0,c.trigger("ready"))};r.libraries[t]=r.libraries[t]||{},a(e,function(e,n){r.libraries[t][n]=e}),n&&n.capabilities&&(r.libraries[t]._defaults=r.libraries[t]._defaults||{},a(n.capabilities,function(e,n){r.libraries[t]._defaults[n]=e})),n&&n.dependencies&&a(n.dependencies,function(t,e,n){var a=r.dependencies;if(!a.urls[t.url]){a.urls[t.url]=!0,a.loading++;var c="script"===t.type?s:l;c(t.url,function(){t.cb?t.cb.call(i,function(){o(a)}):o(a)})}})},r.find=function(t){if(!arguments.length)return r.visuals;var e,n=t.nodeName?t:document.querySelector(t);return a(r.visuals,function(t){return n==t.el()?(e=t,!1):void 0}),e?e:void 0},e.exports=r},{"../core":16,"../core/utils/clone":27,"../core/utils/each":28,"../core/utils/emitter-shim":29,"../core/utils/extend":30,"../dataset":35,"./utils/loadScript":90,"./utils/loadStyle":91}],54:[function(t,e,n){var r=t("../../core/utils/clone"),i=t("../../core/utils/extend"),a=t("../dataviz"),o=t("../../core/request");e.exports=function(t,e,n){var s=r(a.defaults),l=new a,c=new o(this,[t]),u=n?r(n):{};return u.chartType&&(l.chartType(u.chartType),delete u.chartType),u.library&&(l.library(u.library),delete u.library),u.chartOptions&&(l.chartOptions(u.chartOptions),delete u.chartOptions),l.attributes(i(s,u)).el(e).prepare(),c.refresh(),c.on("complete",function(){l.parseRequest(this).call(function(){u.labels&&this.labels(u.labels)}).render()}),c.on("error",function(t){l.error(t.message)}),l}},{"../../core/request":25,"../../core/utils/clone":27,"../../core/utils/extend":30,"../dataviz":53}],55:[function(t,e,n){var r=t("../dataviz"),i=t("../../core/utils/extend");e.exports=function(){var t=i({},r.dataTypeMap),e=this.dataType(),n=this.library(),a=this.chartType()||this.defaultChartType();return!n&&t[e]&&(n=t[e].library),n&&!a&&e&&(a=r.libraries[n]._defaults[e][0]),n&&!a&&t[e]&&(a=t[e].chartType),n&&a?r.libraries[n][a]:{}}},{"../../core/utils/extend":30,"../dataviz":53}],56:[function(t,e,n){function r(t){var e=t.data instanceof Array?t.data[0]:t.data,n=t.queries[0].get("property_names")||[],r={records:"result",select:!0};return n&&(r.select=[],i(n,function(t){r.select.push({path:t})})),new a(e,r)}var i=t("../../core/utils/each"),a=t("../../dataset");e.exports={extraction:r}},{"../../core/utils/each":28,"../../dataset":35}],57:[function(t,e,n){e.exports=function(t){var e,n=t.queries[0].analysis.replace("_"," "),r=t.queries[0].get("event_collection");return e=n.replace(/\b./g,function(t){return t.toUpperCase()}),r&&(e+=" - "+r),e}},{}],58:[function(t,e,n){e.exports=function(t){var e,n="string"==typeof t.params.interval,r="string"==typeof t.params.group_by,i=t.params.group_by instanceof Array;return r||n||(e="singular"),r&&!n&&(e="categorical"),n&&!r&&(e="chronological"),n&&r&&(e="cat-chronological"),!n&&i&&(e="categorical"),n&&i&&(e="cat-chronological"),"funnel"===t.analysis&&(e="cat-ordinal"),"extraction"===t.analysis&&(e="extraction"),"select_unique"===t.analysis&&(e="nominal"),e}},{}],59:[function(t,e,n){var r=t("../core/utils/extend"),i=t("./dataviz");r(i.prototype,{adapter:t("./lib/adapter"),attributes:t("./lib/attributes"),call:t("./lib/call"),chartOptions:t("./lib/chartOptions"),chartType:t("./lib/chartType"),colorMapping:t("./lib/colorMapping"),colors:t("./lib/colors"),data:t("./lib/data"),dataType:t("./lib/dataType"),defaultChartType:t("./lib/defaultChartType"),el:t("./lib/el"),height:t("./lib/height"),indexBy:t("./lib/indexBy"),labelMapping:t("./lib/labelMapping"),labels:t("./lib/labels"),library:t("./lib/library"),parseRawData:t("./lib/parseRawData"),parseRequest:t("./lib/parseRequest"),prepare:t("./lib/prepare"),sortGroups:t("./lib/sortGroups"),sortIntervals:t("./lib/sortIntervals"),stacked:t("./lib/stacked"),title:t("./lib/title"),width:t("./lib/width")}),r(i.prototype,{destroy:t("./lib/actions/destroy"),error:t("./lib/actions/error"),initialize:t("./lib/actions/initialize"),render:t("./lib/actions/render"),update:t("./lib/actions/update")}),e.exports=i},{"../core/utils/extend":30,"./dataviz":53,"./lib/actions/destroy":60,"./lib/actions/error":61,"./lib/actions/initialize":62,"./lib/actions/render":63,"./lib/actions/update":64,"./lib/adapter":65,"./lib/attributes":66,"./lib/call":67,"./lib/chartOptions":68,"./lib/chartType":69,"./lib/colorMapping":70,"./lib/colors":71,"./lib/data":72,"./lib/dataType":73,"./lib/defaultChartType":74,"./lib/el":75,"./lib/height":76,"./lib/indexBy":77,"./lib/labelMapping":78,"./lib/labels":79,"./lib/library":80,"./lib/parseRawData":81,"./lib/parseRequest":82,"./lib/prepare":83,"./lib/sortGroups":84,"./lib/sortIntervals":85,"./lib/stacked":86,"./lib/title":87,"./lib/width":88}],60:[function(t,e,n){var r=t("../../helpers/getAdapterActions");e.exports=function(){var t=r.call(this);return t.destroy&&t.destroy.apply(this,arguments),this.el()&&(this.el().innerHTML=""),this.view._prepared=!1,this.view._initialized=!1,this.view._rendered=!1,this.view._artifacts={},this}},{"../../helpers/getAdapterActions":55}],61:[function(t,e,n){var r=t("../../helpers/getAdapterActions"),i=t("../../dataviz");e.exports=function(){var t=r.call(this);return t.error?t.error.apply(this,arguments):i.libraries["keen-io"].error.render.apply(this,arguments),this}},{"../../dataviz":53,"../../helpers/getAdapterActions":55}],62:[function(t,e,n){var r=t("../../helpers/getAdapterActions"),i=t("../../dataviz");e.exports=function(){var t=r.call(this),e=i.libraries[this.view.loader.library][this.view.loader.chartType];return this.view._prepared?e.destroy&&e.destroy.apply(this,arguments):this.el()&&(this.el().innerHTML=""),t.initialize&&t.initialize.apply(this,arguments),this.view._initialized=!0,this}},{"../../dataviz":53,"../../helpers/getAdapterActions":55}],63:[function(t,e,n){var r=t("../../helpers/getAdapterActions"),i=t("../../utils/applyTransforms");e.exports=function(){var t=r.call(this);return i.call(this),this.view._initialized||this.initialize(),this.el()&&t.render&&(t.render.apply(this,arguments),this.view._rendered=!0),this}},{"../../helpers/getAdapterActions":55,"../../utils/applyTransforms":89}],64:[function(t,e,n){var r=t("../../helpers/getAdapterActions"),i=t("../../utils/applyTransforms");e.exports=function(){var t=r.call(this);return i.call(this),t.update?t.update.apply(this,arguments):t.render&&this.render(),this}},{"../../helpers/getAdapterActions":55,"../../utils/applyTransforms":89}],65:[function(t,e,n){var r=t("../../core/utils/each");e.exports=function(t){if(!arguments.length)return this.view.adapter;var e=this;return r(t,function(t,n){e.view.adapter[n]=t?t:null}),this}},{"../../core/utils/each":28}],66:[function(t,e,n){var r=t("../../core/utils/each"),i=t("./chartOptions");e.exports=function(t){if(!arguments.length)return this.view.attributes;var e=this;return r(t,function(t,n){"chartOptions"===n?i.call(e,t):e.view.attributes[n]=t}),this}},{"../../core/utils/each":28,"./chartOptions":68}],67:[function(t,e,n){e.exports=function(t){return t.call(this),this}},{}],68:[function(t,e,n){var r=t("../../core/utils/extend");e.exports=function(t){return arguments.length?(r(this.view.adapter.chartOptions,t),this):this.view.adapter.chartOptions}},{"../../core/utils/extend":30}],69:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.adapter.chartType=t?String(t):null,this):this.view.adapter.chartType}},{}],70:[function(t,e,n){function r(){var t=this,e=this.dataset.schema,n=this.dataset.output(),r=this.view.defaults.colors.slice(),a=this.colorMapping(),o=this.dataType()||"";a&&(o.indexOf("chronological")>-1||e.unpack&&n[0].length>2?i(n[0].slice(1),function(t,e){var n=a[t];n&&r[e]!==n&&r.splice(e,0,n)}):i(t.dataset.selectColumn(0).slice(1),function(t,e){var n=a[t];n&&r[e]!==n&&r.splice(e,0,n)}),t.view.attributes.colors=r)}var i=t("../../core/utils/each");e.exports=function(t){return arguments.length?(this.view.attributes.colorMapping=t?t:null,r.call(this),this):this.view.attributes.colorMapping}},{"../../core/utils/each":28}],71:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.attributes.colors=t instanceof Array?t:null,this.view.defaults.colors=t instanceof Array?t:null,this):this.view.attributes.colors}},{}],72:[function(t,e,n){var r=t("../../dataset"),i=t("../../core/request");e.exports=function(t){return arguments.length?(t instanceof r?this.dataset=t:t instanceof i?this.parseRequest(t):this.parseRawData(t),this):this.dataset.output()}},{"../../core/request":25,"../../dataset":35}],73:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.adapter.dataType=t?String(t):null,this):this.view.adapter.dataType}},{}],74:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.adapter.defaultChartType=t?String(t):null,this):this.view.adapter.defaultChartType}},{}],75:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.el=t,this):this.view.el}},{}],76:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.attributes.height=isNaN(parseInt(t))?null:parseInt(t),this):this.view.attributes.height}},{}],77:[function(t,e,n){function r(){var t=this,e=this.dataset.meta.schema||this.dataset.meta.unpack,n=this.indexBy().split(".").join(i.defaults.delimeter);o(e,function(e,r){"select"===r&&e instanceof Array?o(e,function(e,i){e.path.indexOf("timeframe -> ")>-1&&(t.dataset.meta.schema[r][i].path=n)}):"unpack"===r&&"object"==typeof e&&(t.dataset.meta.schema[r].index.path=n)}),this.dataset.parse()}var i=t("../../dataset"),a=t("../dataviz"),o=t("../../core/utils/each");e.exports=function(t){return arguments.length?(this.view.attributes.indexBy=t?String(t):a.defaults.indexBy,r.call(this),this):this.view.attributes.indexBy}},{"../../core/utils/each":28,"../../dataset":35,"../dataviz":53}],78:[function(t,e,n){function r(){var t=this,e=this.labelMapping(),n=this.dataset.schema()||{},r=this.dataType()||"";e&&(r.indexOf("chronological")>-1||n.unpack&&t.dataset.output()[0].length>2?i(t.dataset.output()[0],function(n,r){r>0&&(t.dataset.data.output[0][r]=e[n]||n)}):n.select&&2===t.dataset.output()[0].length&&t.dataset.updateColumn(0,function(t,n){return e[t]||t}))}var i=t("../../core/utils/each");e.exports=function(t){return arguments.length?(this.view.attributes.labelMapping=t?t:null,r.call(this),this):this.view.attributes.labelMapping}},{"../../core/utils/each":28}],79:[function(t,e,n){function r(){var t=this,e=this.labels()||null,n=this.dataset.schema()||{},r=this.dataset.output(),i=this.dataType()||"";e&&(i.indexOf("chronological")>-1||n.unpack&&r[0].length>2?a(r[0],function(n,r){r>0&&e[r-1]&&(t.dataset.data.output[0][r]=e[r-1])}):a(r,function(n,r){r>0&&e[r-1]&&(t.dataset.data.output[r][0]=e[r-1])}))}function i(){var t,e=this.dataset.schema()||{},n=this.dataset.output(),r=this.dataType()||"";return t=r.indexOf("chron")>-1||e.unpack&&n[0].length>2?this.dataset.selectRow(0).slice(1):this.dataset.selectColumn(0).slice(1)}var a=t("../../core/utils/each");e.exports=function(t){return arguments.length?(this.view.attributes.labels=t instanceof Array?t:null,r.call(this),this):this.view.attributes.labels&&this.view.attributes.labels.length?this.view.attributes.labels:i.call(this)}},{"../../core/utils/each":28}],80:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.adapter.library=t?String(t):null,this):this.view.adapter.library}},{}],81:[function(t,e,n){function r(t){var e,n,r,s,l,c,u,p=this,h={};if(e=p.indexBy()?p.indexBy():i.defaults.indexBy,n=a.defaults.delimeter,r=e.split(".").join(n),s=p.labels()||null,l=p.labelMapping()||null,"number"==typeof t.result&&(c="singular",h={records:"",select:[{path:"result",type:"string",label:"Metric"}]}),t.result instanceof Array&&t.result.length>0){if(!t.result[0].timeframe||"number"!=typeof t.result[0].value&&null!=t.result[0].value||(c="chronological",h={records:"result",select:[{path:r,type:"date"},{path:"value",type:"number"}]}),"number"==typeof t.result[0].result){c="categorical",h={records:"result",select:[]};for(var d in t.result[0])if(t.result[0].hasOwnProperty(d)&&"result"!==d){h.select.push({path:d,type:"string"});break}h.select.push({path:"result",type:"number"})}if(t.result[0].value instanceof Array){c="cat-chronological",h={records:"result",unpack:{index:{path:r,type:"date"},value:{path:"value -> result",type:"number"}}};for(var d in t.result[0].value[0])if(t.result[0].value[0].hasOwnProperty(d)&&"result"!==d){h.unpack.label={path:"value -> "+d,type:"string"};break}}"number"==typeof t.result[0]&&"undefined"!=typeof t.steps&&(c="cat-ordinal",h={records:"",unpack:{index:{path:"steps -> event_collection",type:"string"},value:{path:"result -> ",type:"number"}}}),"string"!=typeof t.result[0]&&"number"!=typeof t.result[0]||"undefined"!=typeof t.steps||(c="nominal",u=new a,u.appendColumn("unique values",[]),o(t.result,function(t,e){u.appendRow(t)})),void 0===c&&(c="extraction",h={records:"result",select:!0})}return u=u instanceof a?u:new a(t,h),c&&p.dataType(c),u}var i=t("../dataviz"),a=t("../../dataset"),o=t("../../core/utils/each");e.exports=function(t){return this.dataset=r.call(this,t),this}},{"../../core/utils/each":28,"../../dataset":35,"../dataviz":53}],82:[function(t,e,n){var r=t("../helpers/getDatasetSchemas"),i=t("../helpers/getDefaultTitle"),a=t("../helpers/getQueryDataType");t("../../dataset"),t("./parseRawData");e.exports=function(t){var e=a(t.queries[0]);return"extraction"===e?this.dataset=r.extraction(t):this.parseRawData(t.data instanceof Array?t.data[0]:t.data),this.dataType(e),this.view.defaults.title=i.call(this,t),this.title()||this.title(this.view.defaults.title),this}},{"../../dataset":35,"../helpers/getDatasetSchemas":56,"../helpers/getDefaultTitle":57,"../helpers/getQueryDataType":58,"./parseRawData":81}],83:[function(t,e,n){var r=t("../dataviz");e.exports=function(){var t;return this.view._rendered&&this.destroy(),this.el()&&(this.el().innerHTML="",t=r.libraries[this.view.loader.library][this.view.loader.chartType],t.initialize&&t.initialize.apply(this,arguments),t.render&&t.render.apply(this,arguments),this.view._prepared=!0),this}},{"../dataviz":53}],84:[function(t,e,n){function r(){var t=this.dataType();this.sortGroups()&&(t&&t.indexOf("chronological")>-1||this.data()[0].length>2?this.dataset.sortColumns(this.sortGroups(),this.dataset.getColumnSum):t&&(t.indexOf("cat-")>-1||t.indexOf("categorical")>-1)&&this.dataset.sortRows(this.sortGroups(),this.dataset.getRowSum))}e.exports=function(t){return arguments.length?(this.view.attributes.sortGroups=t?String(t):null,r.call(this),this):this.view.attributes.sortGroups}},{}],85:[function(t,e,n){function r(){this.sortIntervals()&&this.dataset.sortRows(this.sortIntervals())}e.exports=function(t){return arguments.length?(this.view.attributes.sortIntervals=t?String(t):null,r.call(this),this):this.view.attributes.sortIntervals}},{}],86:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.attributes.stacked=t?!0:!1,this):this.view.attributes.stacked}},{}],87:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.attributes.title=t?String(t):null,this):this.view.attributes.title}},{}],88:[function(t,e,n){e.exports=function(t){return arguments.length?(this.view.attributes.width=isNaN(parseInt(t))?null:parseInt(t),this):this.view.attributes.width}},{}],89:[function(t,e,n){e.exports=function(){this.labelMapping()&&this.labelMapping(this.labelMapping()),this.colorMapping()&&this.colorMapping(this.colorMapping()),this.sortGroups()&&this.sortGroups(this.sortGroups()),this.sortIntervals()&&this.sortIntervals(this.sortIntervals())}},{}],90:[function(t,e,n){e.exports=function(t,e){var n,r=document,i=r.head||r.getElementsByTagName("head");setTimeout(function(){if("item"in i){if(!i[0])return void setTimeout(arguments.callee,25);i=i[0]}var n=r.createElement("script"),a=!1;n.onload=n.onreadystatechange=function(){return n.readyState&&"complete"!==n.readyState&&"loaded"!==n.readyState||a?!1:(n.onload=n.onreadystatechange=null,a=!0,void e())},n.src=t,i.insertBefore(n,i.firstChild)},0),null===r.readyState&&r.addEventListener&&(r.readyState="loading",r.addEventListener("DOMContentLoaded",n=function(){r.removeEventListener("DOMContentLoaded",n,!1),r.readyState="complete"},!1))}},{}],91:[function(t,e,n){e.exports=function(t,e){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.type="text/css",n.href=t,e(),document.head.appendChild(n)}},{}],92:[function(t,e,n){e.exports=function(t){function e(t,n){var t=String(t),r=t.split(".");if(r.length>1){t=r[0];var i=r[1];2==t.length&&i.length>0?i.length>0?t=t+"."+i.charAt(0):t+="0":1==t.length&&i.length>0&&(t=t+"."+i.charAt(0),t+=i.length>1?i.charAt(1):"0")}var o=t.length;return t.split(".").length>1&&o--,3>=o?String(t)+a[n]:e(Number(t)/1e3,n+1)}var n=Number(t),r=n.toPrecision(3),i="",a=["","k","M","B","T"];return Number(r)==n&&String(n).length<=4?String(n):n>=1||-1>=n?(0>n&&(n=-n,i="-"),i+e(n,0)):n.toPrecision(3)}},{}],93:[function(t,e,n){(function(r){!function(t){"function"==typeof define&&define.amd&&define("keen",[],function(){return t()}),"object"==typeof n&&"undefined"!=typeof e&&(e.exports=t());var i=null;"undefined"!=typeof window?i=window:"undefined"!=typeof r?i=r:"undefined"!=typeof self&&(i=self),i&&(i.Keen=t())}(function(){var n=t("./core"),r=t("./core/utils/extend");return r(n.prototype,{addEvent:t("./core/lib/addEvent"),addEvents:t("./core/lib/addEvents"),setGlobalProperties:t("./core/lib/setGlobalProperties"),trackExternalLink:t("./core/lib/trackExternalLink"),get:t("./core/lib/get"),post:t("./core/lib/post"),put:t("./core/lib/post"),run:t("./core/lib/run"),draw:t("./dataviz/extensions/draw")}),n.Query=t("./core/query"),n.Request=t("./core/request"),n.Dataset=t("./dataset"),n.Dataviz=t("./dataviz"),n.Base64=t("./core/utils/base64"),n.Spinner=t("spin.js"),n.utils={domready:t("domready"),each:t("./core/utils/each"),extend:r,parseParams:t("./core/utils/parseParams"),prettyNumber:t("./dataviz/utils/prettyNumber")},t("./dataviz/adapters/keen-io")(),t("./dataviz/adapters/google")(),t("./dataviz/adapters/c3")(),t("./dataviz/adapters/chartjs")(),n.loaded&&setTimeout(function(){n.utils.domready(function(){n.emit("ready")})},0),t("./core/async")(),e.exports=n,n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":16,"./core/async":8,"./core/lib/addEvent":17,"./core/lib/addEvents":18,"./core/lib/get":19,"./core/lib/post":20,"./core/lib/run":21,"./core/lib/setGlobalProperties":22,"./core/lib/trackExternalLink":23,"./core/query":24,"./core/request":25,"./core/utils/base64":26,"./core/utils/each":28,"./core/utils/extend":30,"./core/utils/parseParams":32,"./dataset":35,"./dataviz":59,"./dataviz/adapters/c3":49,"./dataviz/adapters/chartjs":50,"./dataviz/adapters/google":51,"./dataviz/adapters/keen-io":52,"./dataviz/extensions/draw":54,"./dataviz/utils/prettyNumber":92,domready:2,"spin.js":4}]},{},[93]),function(t){t.module("angular-keenio.config",[]).value("angular-keenio.config",{debug:!0}),t.module("angular-keenio.directives",[]),t.module("angular-keenio.services",[]),t.module("angular-keenio",["angular-keenio.config","angular-keenio.directives","angular-keenio.services"])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenAreachart",[function(){var t={scope:{query:"=",title:"@",width:"@",height:"@",isStacked:"@",chartOptions:"=?"},controller:["$scope",function(t){t.chartOptions=t.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"},isStacked:!!t.isStacked}}],template:'<div data-tbk-keen-chart="areachart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return t}])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenChart",[function(){var t={scope:{chartType:"@tbkKeenChart",query:"=",title:"@",width:"@",height:"@",chartOptions:"=?"},controller:["$scope","tbkKeenClient",function(t,e){t.keenClient=e,t.height=t.height||250,t.width=t.width||"auto",t.title=t.title||!1,t.chartOptions=t.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"}}}],link:function(t,e){t.keenClient.draw(t.query,e[0],{chartType:t.chartType,title:t.title,height:t.height,width:t.width,chartOptions:t.chartOptions})}};return t}])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenColumnchart",[function(){var t={scope:{query:"=",title:"@",width:"@",height:"@",isStacked:"@",groupWidth:"@",chartOptions:"=?"},controller:["$scope",function(t){t.chartOptions=t.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},bar:{groupWidth:t.groupWidth||"85%"},isStacked:!!t.isStacked}}],template:'<div data-tbk-keen-chart="columnchart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return t}])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenMetric",["$injector","$filter","tbkKeenClient",function(t,e,n){var r=function(t){var e=t.containerClass||"tbk-keen-metric";return{container:e,loading:t.loadingClass||e+"-loading",error:t.errorClass||e+"-error",success:t.successClass||e+"-success"}},i=function(t){return{prefix:t.prefix||"",postfix:t.postfix||"",loading:t.loadingText||"Loading...",error:t.errorText||"An error occured!"}},a=function(e){var n=e.filter&&t.has(e.filter+"Filter");return{scale:parseInt(e.scale,10)||0,factor:parseFloat(e.factor)||1,filter:n?e.filter:null,useFilter:n}},o={scope:{query:"=",prefix:"@",postfix:"@",scale:"@",factor:"@",filter:"@",loadingText:"@",errorText:"@",containerClass:"@",loadingClass:"@",successClass:"@",errorClass:"@"},controller:["$scope",function(t){t.texts=i(t),t.classes=r(t),t.options=a(t),t.flags={loading:!1,error:!1},t.response=null}],link:function(t,r){r.addClass(t.classes.container);var i=function(){t.result=null,t.response=null,t.error=null,t.flags.loading=!0,t.flags.error=!1,r.addClass(t.classes.loading),r.removeClass(t.classes.success),r.removeClass(t.classes.error)};!function(){i(),n.run(t.query,function(n,i){if(t.response=i,t.error=n,t.flags.error=!!n,t.flags.loading=!1,!n){var a=i.result*t.options.factor;t.options.useFilter?t.result=e(t.options.filter)(a,t.options.scale):t.result=e("number")(a,t.options.scale)}r.removeClass(t.classes.loading),r.addClass(n?t.classes.error:t.classes.success),t.$digest()})}()},template:'<span><span data-ng-hide="flags.loading || flags.error">{{ texts.prefix }}{{ result }}{{ texts.postfix }}</span><span data-ng-show="flags.loading">{{ texts.loading }}</span><span data-ng-show="flags.error">{{ texts.error }}</span></span>'};return o}]).directive("tbkKeenDefaultMetric",["$injector","$filter","tbkKeenClient",function(t,e,n){var r={scope:{analysisType:"@",targetProperty:"@",eventCollection:"@",queryOptions:"=?",prefix:"@",postfix:"@",scale:"@",factor:"@",filter:"@",loadingText:"@",errorText:"@",containerClass:"@",loadingClass:"@",successClass:"@",errorClass:"@"},controller:["$scope","tbkKeen",function(t,e){var n=t.queryOptions||{};n.eventCollection=t.eventCollection,n.targetProperty=t.targetProperty,t.query=new e.Query(t.analysisType,n)}],template:'<span data-tbk-keen-metric  data-query="query"  data-prefix="{{prefix}}"  data-postfix="{{postfix}}"  data-scale="{{scale}}"  data-factor="{{factor}}"  data-filter="{{filter}}"  data-loading-text="{{loadingText}}"  data-error-text="{{errorText}}"  data-container-class="{{containerClass}}"  data-loading-class="{{loadingClass}}"  data-success-class="{{successClass}}"  data-error-class="{{errorClass}}" ></span>'
};return r}])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenPiechart",[function(){var t={scope:{query:"=",title:"@",width:"@",height:"@",pieHole:"@",chartOptions:"=?"},controller:["$scope",function(t){t.chartOptions=t.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:t.pieHole||.4}}],template:'<div data-tbk-keen-chart="piechart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return t}]).directive("tbkKeenDefaultPiechart",[function(){var t={scope:{analysisType:"@",eventCollection:"@",groupBy:"@",queryOptions:"=?",chartOptions:"=?",title:"@",width:"@",height:"@"},controller:["$scope","tbkKeen",function(t,e){t.analysisType=t.analysisType||"count",t.height=t.height||"250",t.width=t.width||"auto",t.queryOptions=t.queryOptions,t.queryOptions.eventCollection=t.eventCollection,t.queryOptions.groupBy=t.groupBy,t.query=new e.Query(t.analysisType,t.queryOptions),t.chartOptions=t.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="{{height}}"  width="{{width}}"  title="{{title}}"  chart-options="chartOptions" ></div>'};return t}])}(angular),function(t){t.module("angular-keenio.directives").directive("tbkKeenTable",["tbkKeenClient",function(t){var e={scope:{query:"=",title:"@",height:"@"},controller:["$scope",function(t){t.options={title:t.title||"",height:t.height||340}}],link:function(e,n){t.draw(e.query,n[0],{chartType:"table",title:e.options.title,height:e.options.height})},template:"<div></div>"};return e}]).directive("tbkKeenDefaultTable",[function(){var t={scope:{title:"@",analysisType:"@",eventCollection:"@",queryOptions:"=?"},controller:["$scope","tbkKeen",function(t,e){var n=t.queryOptions||{};n.eventCollection=t.eventCollection,t.analysisType=t.analysisType||"extraction",t.query=new e.Query(t.analysisType,n)}],template:'<div tbk-keen-table  data-query="query"  data-title="{{title}}"></div>'};return t}])}(angular),function(t){t.module("angular-keenio.services").value("tbkKeenDefaultConfig",{projectId:"YOUR_PROJECT_ID",writeKey:"YOUR_WRITE_KEY",readKey:"YOUR_READ_KEY",protocol:"https",host:"api.keen.io/3.0",requestType:"jsonp"}).provider("tbkKeenConfig",[function(){var e={};this.projectId=function(t){return e.projectId=t,this},this.writeKey=function(t){return e.writeKey=t,this},this.readKey=function(t){return e.readKey=t,this},this.protocol=function(t){return e.protocol=t,this},this.host=function(t){return e.host=t,this},this.requestType=function(t){return e.requestType=t,this},this.$get=["tbkKeenDefaultConfig",function(n){return t.extend(n,e)}]}]).factory("tbkKeen",["$window",function(t){return t.Keen}]).factory("tbkKeenClient",["tbkKeen","tbkKeenConfig",function(t,e){return new t(e)}]).factory("tbkKeenHttpGet",["tbkKeenConfig","tbkKeenClient",function(t,e){return function(n,r,i){var a=n.replace("<project_id>",t.projectId),o=t.protocol+"://"+t.host+a;return e.get(o,r,t.readKey,i)}}])}(angular),function(t){"use strict";t.module("angular-keenio-demos",["angular-keenio","ui.router","tbk.githubVersion"]).filter("reverse",function(){return function(t){return t?t.slice().reverse():t}}).filter("range",["$log",function(t){return function(e,n){try{n=parseInt(n,10);for(var r=0;n>r;r++)e.push(r)}catch(i){t.warn("invalid input in repeatreange"+n)}return e}}]).config(["tbkKeenConfigProvider",function(t){var e={projectId:"5368fa5436bf5a5623000000",readKey:"3f324dcb5636316d6865ab0ebbbbc725224c7f8f3e8899c7733439965d6d4a2c7f13bf7765458790bd50ec76b4361687f51cf626314585dc246bb51aeb455c0a1dd6ce77a993d9c953c5fc554d1d3530ca5d17bdc6d1333ef3d8146a990c79435bb2c7d936f259a22647a75407921056"};t.projectId(e.projectId).readKey(e.readKey)}])}(angular),function(t){"use strict";t.module("angular-keenio-demos").directive("tbkKeenPiechartDemoPageviewsByBrowser",[function(){var t={controller:["$scope","tbkKeen",function(t,e){t.query=new e.Query("count",{eventCollection:"pageviews",groupBy:"user.device_info.browser.family",timeframe:{start:"2014-05-01T00:00:00.000Z",end:"2014-05-05T00:00:00.000Z"}}),t.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return t}]).directive("tbkKeenAreachartDemoPageviewsByBrowser",[function(){var t={controller:["$scope","tbkKeen",function(t,e){t.query=new e.Query("count",{eventCollection:"pageviews",interval:"hourly",groupBy:"user.device_info.browser.family",timeframe:{start:"2014-05-04T00:00:00.000Z",end:"2014-05-05T00:00:00.000Z"}}),t.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"},isStacked:!0}}],template:'<div data-tbk-keen-areachart  query="query"  height="250"  width="auto"  is-stacked="true"  chart-options="chartOptions" ></div>'};return t}]).directive("tbkKeenColumnchartDemoImpressionsByAdvertiser",[function(){var t={controller:["$scope","tbkKeen",function(t,e){t.query=new e.Query("count",{eventCollection:"impressions",groupBy:"ad.advertiser",interval:"hourly",timeframe:{start:"2014-05-04T00:00:00.000Z",end:"2014-05-05T00:00:00.000Z"}}),t.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return t}]).directive("tbkKeenColumnchartDemoImpressionsByDevice",[function(){var t={controller:["$scope","tbkKeen",function(t,e){t.query=new e.Query("count",{eventCollection:"impressions",groupBy:"user.device_info.device.family",interval:"hourly",timeframe:{start:"2014-05-04T00:00:00.000Z",end:"2014-05-05T00:00:00.000Z"}}),t.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return t}]).directive("tbkKeenColumnchartDemoImpressionsByCountry",[function(){var t={controller:["$scope","tbkKeen",function(t,e){t.query=new e.Query("count",{eventCollection:"impressions",groupBy:"user.geo_info.country",interval:"hourly",timeframe:{start:"2014-05-04T00:00:00.000Z",end:"2014-05-05T00:00:00.000Z"}}),t.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return t}])}(angular),function(t){"use strict";t.module("angular-keenio-demos").config(["$stateProvider","$urlRouterProvider",function(t,e){e.when("","/demos/overview"),e.when("/","/demos/overview"),t.state("home",{url:"/",templateUrl:"partials/demos.html",controller:"DemoCtrl"}).state("demos",{"abstract":!0,url:"/demos",template:"<ui-view/>"}).state("demos.overview",{url:"/overview",templateUrl:"partials/demos.html",controller:"DemoCtrl"}),e.otherwise("/demos/overview")}])}(angular),function(t,e,n){"use strict";t.module("angular-keenio-demos").directive("tbkCodePrettify",["$window",function(t){var e={scope:{lang:"@",showLinenums:"@"},compile:function(){return function(e,n){n.addClass("prettyprint"),e.lang&&n.addClass("lang-"+e.lang),e.showLinenums&&n.addClass("linenums"),setTimeout(function(){t.prettyPrint()},1)}}};return e}]).directive("tbkHeader",function(){var t={scope:{},templateUrl:"partials/navs/header.html",controller:[function(){}]};return t})}(angular,_),function(t,e,n,r,i,a){"use strict";n.module("angular-keenio-demos")}(window,document,angular,_,jQuery),function(t,e,n){"use strict";n.module("angular-keenio-demos").controller("MainCtrl",[function(){}])}(window,document,angular),function(t,e,n,r,i,a,o){"use strict";n.module("angular-keenio-demos").controller("DemoCtrl",["$scope",function(t){t.subtitle="demos"}])}(window,document,angular,_,moment,jQuery),function(t){try{t=angular.module("angular-keenio-demos")}catch(e){t=angular.module("angular-keenio-demos",[])}t.run(["$templateCache",function(t){t.put("partials/demos.html",'<div class="row"><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Pageviews by browser (past 24 hours)<div class="pull-right"><a data-ng-click="_toggleSourcePageviewsByBrowser = !_toggleSourcePageviewsByBrowser;"><i class="fa fa-fw fa-code"></i> Source</a></div></div><div class="chart-stage"><div tbk-keen-areachart-demo-pageviews-by-browser="">Here should be an areachart.</div><div data-ng-show="_toggleSourcePageviewsByBrowser"><h4>html</h4><pre data-tbk-code-prettify="" data-lang="html">\n&lt;div tbk-keen-areachart-demo-pageviews-by-browser&gt;\n  Loading Pageviews By Browsers Areachart Demo.\n&lt;/div&gt;\n</pre><h4>directive</h4><pre data-tbk-code-prettify="">\n.directive(\'tbkKeenAreachartDemoPageviewsByBrowser\', [function() {\n  var d = {\n    controller: [\'$scope\', \'tbkKeen\', function($scope, Keen) {\n      $scope.query = new Keen.Query("count", {\n        eventCollection: "pageviews",\n        interval: "hourly",\n        groupBy: "user.device_info.browser.family",\n        timeframe: {\n          start: "2014-05-04T00:00:00.000Z",\n          end: "2014-05-05T00:00:00.000Z"\n        }\n      });\n\n      $scope.chartOptions = {\n        chartArea: {\n          height: "85%",\n          left: "5%",\n          top: "5%",\n          width: "80%"\n        },\n        isStacked: true\n      };\n    }],\n    template:\n    \'&lt;div data-tbk-keen-areachart \' +\n    \' query="query" \' +\n    \' height="250" \' +\n    \' width="auto" \' +\n    \' chart-options="chartOptions" \' +\n    \'&gt;&lt;/div&lt;\'\n  };\n\n  return d;\n}])\n</pre></div></div><div class="chart-notes">This is a sample text region to describe this chart.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Pageviews by browser (past 5 days)</div><div class="chart-stage"><div tbk-keen-piechart-demo-pageviews-by-browser="">Here should be a piechart.</div></div><div class="chart-notes">Notes go down here</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Impressions by advertiser</div><div class="chart-stage"><div tbk-keen-columnchart-demo-impressions-by-advertiser="">Here should be a columnchart.</div></div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Impressions by device</div><div class="chart-stage"><div tbk-keen-columnchart-demo-impressions-by-device="">Here should be a columnchart.</div></div><div class="chart-notes">Notes go down here</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Impressions by country</div><div class="chart-stage"><div tbk-keen-columnchart-demo-impressions-by-country="">Here should be a columnchart.</div></div><div class="chart-notes">Notes go down here</div></div></div></div>')}])}(),function(t){try{t=angular.module("angular-keenio-demos")}catch(e){t=angular.module("angular-keenio-demos",[])}t.run(["$templateCache",function(t){t.put("partials/main.html","")}])}(),function(t){try{t=angular.module("angular-keenio-demos")}catch(e){t=angular.module("angular-keenio-demos",[])}t.run(["$templateCache",function(t){t.put("partials/navs/bottom.html",'<div class="container"><div class="footer" id="footer"><p class="pull-right">with <i class="fa fa-code"></i></p></div></div>')}])}(),function(t){try{t=angular.module("angular-keenio-demos")}catch(e){t=angular.module("angular-keenio-demos",[])}t.run(["$templateCache",function(t){t.put("partials/navs/header.html",'<div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" data-ui-sref="home">angular-<strong>keenio</strong>.js</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-left"><li data-ui-sref-active="active"><a data-ui-sref="demos.overview">Demos</a></li><li style="padding-top: 15px; padding-bottom: 15px;"><span style="color:#bbb; padding: 10px 15px;">Version <span data-tbk-github-version="theborakompanioni/angular-keenio"></span></span></li><li><a href="https://github.com/theborakompanioni/angular-keenio"><i class="fa fa-github"></i> GitHub Project</a></li></ul></div></div></div>')}])}();